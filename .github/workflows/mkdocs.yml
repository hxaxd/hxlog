name: ci
on:
  push:
    branches:
      - master
      - main
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: 3.x
      - run: pip install mkdocs-material
      - run: mkdocs gh-deploy --force
      
  cloudflare_pages_job:
    runs-on: ubuntu-latest
    steps:
      - name: Cloudflare Pages Action
        # You may pin to the exact commit or the version.
        # uses: kitabisa/cloudflare-pages-action@fbf8507763ac4236605f030c167a16891abd7871
        uses: kitabisa/cloudflare-pages-action@v1.0.5
        with:
          # Set api token
          api-token: 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
          # Set account id
          account-id: hxaxd
          # Set branch
          branch: main
          # Set production branch
          production-branch: gh-pages
          # Set build directory
          build-directory: /
          # Set package manager
          package-manager: npm
          # Set project name
          project-name: hxlog
          # Set custom domain
          custom-domain: hxlog.cn # optional, default is 
            
