
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../%E6%95%B0%E6%8D%AE%E5%AF%86%E9%9B%86%E5%9E%8B%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">
      
      
        <link rel="next" href="../../Rust/Rust/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>系统设计 - 海星笔记</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=JetBrains+Mono:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"JetBrains Mono";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="海星笔记" class="md-header__button md-logo" aria-label="海星笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            海星笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              系统设计
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hxaxd/hxlog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    海星笔记
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="海星笔记" class="md-nav__button md-logo" aria-label="海星笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    海星笔记
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hxaxd/hxlog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    海星笔记
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    目录
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    理论基础
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    理论基础
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数学基础
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    离散数学
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E5%88%9D%E7%AD%89%E6%95%B0%E8%AE%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    初等数论
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E6%95%B0%E5%AD%A6%E5%A2%9E%E8%A1%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数学增补
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    电子技术
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E7%90%86%E8%AE%BA%E4%B8%8E%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    计算理论与编译原理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    工具
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    工具
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Markdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Markdown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%BD%A2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    基本图形开发环境配置
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Git%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git基本使用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Linux%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux基础
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%BA%8F%E5%88%97%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    标记语言与序列化
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Shell%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shell基础
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Shell%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shell文本处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Linux%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux系统与网络管理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Shell%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shell编程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/%E7%BB%88%E7%AB%AF%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    终端开发环境配置
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Tex%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tex基础
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/Nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nginx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    前端开发常识
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/%E5%AE%B9%E5%99%A8%E5%B8%B8%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    容器常识
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/WEB%E5%BC%80%E5%8F%91%E5%B8%B8%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WEB开发常识
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E5%B7%A5%E5%85%B7/AI%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI 工具
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    C语言
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    C语言
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/CPrimePlus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CPrimePlus
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/C%E5%92%8C%E6%8C%87%E9%92%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C和指针
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/C%E7%BC%BA%E9%99%B7%E4%B8%8E%E9%99%B7%E9%98%B1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C缺陷与陷阱
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/C%E4%B8%93%E5%AE%B6%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C专家编程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/C%E8%AF%AD%E8%A8%80%E9%87%8D%E7%82%B9%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C语言重点总结
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    C++语言
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    C++语言
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/LearnCPP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LearnCPP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/C%2B%2BPrime/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C++Prime
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/C%2B%2B%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C++最佳实践
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E5%85%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    程序员的自我修养
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2C%2B%2B%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    深度探索C++对象模型
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/STL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    STL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/C%2B%2B%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C++工具
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    算法
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    算法
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E5%A4%A7%E8%AF%9D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    大话数据结构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    算法设计与分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E7%AC%AC%E5%9B%9B%E7%89%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    算法第四版
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E7%90%86%E8%AE%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    算法理论
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E8%A1%A5%E5%85%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    算法补充
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    代码随想录
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E5%89%91%E6%8C%87Offer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    剑指Offer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%BC%96%E7%A8%8B%E7%8F%A0%E7%8E%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    编程珠玑
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%BC%96%E7%A8%8B%E7%8F%A0%E7%8E%91%E7%BB%AD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    编程珠玑续
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%BC%96%E7%A8%8B%E4%B9%8B%E7%BE%8E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    编程之美
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E7%A8%8B%E5%BA%8F%E5%91%98%E9%9D%A2%E8%AF%95%E9%87%91%E5%85%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    程序员面试金典
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%AE%97%E6%B3%95/%E5%8A%9B%E6%89%A3%E9%A2%98%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    力扣题解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    计算机系统与组成
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    计算机系统与组成
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%BB%84%E6%88%90/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%28%E7%8E%8B%E7%88%BD%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    汇编语言(王爽)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%BB%84%E6%88%90/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    深入理解计算机系统
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%BB%84%E6%88%90/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    计算机组成与设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    操作系统
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    操作系统
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    操作系统导论
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux%E5%86%85%E6%A0%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux内核
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    代码风格与编程技术
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    代码风格与编程技术
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E4%B8%8E%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    设计模式
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E4%B8%8E%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    代码规范
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E4%B8%8E%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    软件工程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    计算机网络
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    计算机网络
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    自顶向下方法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/TCPIP%E8%AF%A6%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TCPIP详解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    数据库
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    数据库
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL必知必会
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E5%BA%93/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis设计与实现
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL技术内幕
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    UNIX系统与网络编程
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    UNIX系统与网络编程
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UNIX%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/Linux%E9%AB%98%E6%80%A7%E8%83%BD%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux高性能服务器编程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UNIX%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/Linux%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux多线程服务端编程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" checked>
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    分布式
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    分布式
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分布式系统
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%95%B0%E6%8D%AE%E5%AF%86%E9%9B%86%E5%9E%8B%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据密集型应用系统设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    系统设计
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    系统设计
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步: 描述使用场景, 约束和假设
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：创造一个高层级的设计
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：设计核心组件
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        第四步：扩展设计
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        预估计算量
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        系统设计的面试题和解答
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统设计的面试题和解答">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pastebincom-bitly" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计 Pastebin.com (或者 Bit.ly)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#twitter-facebook-feed" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计 Twitter 时间线和搜索 (或者 Facebook feed 和搜索)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计一个网页爬虫
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mintcom" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计 Mint.com
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        为一个社交网络设计数据结构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-value" class="md-nav__link">
    <span class="md-ellipsis">
      
        为搜索引擎设计一个 key-value 储存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计按类别分类的 Amazon 销售排名
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        在 AWS 上设计一个百万用户级别的系统
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        面向对象设计的面试问题及解答
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        系统设计主题：从这里开始
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统设计主题：从这里开始">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scalability" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：回顾可扩展性（scalability）的视频讲座
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：回顾可扩展性文章
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        接下来的步骤
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        性能与可扩展性
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="性能与可扩展性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        延迟与吞吐量
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="延迟与吞吐量">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        可用性与一致性
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可用性与一致性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cap" class="md-nav__link">
    <span class="md-ellipsis">
      
        CAP 理论
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CAP 理论">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cp" class="md-nav__link">
    <span class="md-ellipsis">
      
        CP ─ 一致性和分区容错性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ap" class="md-nav__link">
    <span class="md-ellipsis">
      
        AP ─ 可用性与分区容错性
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        一致性模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一致性模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        弱一致性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        最终一致性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        强一致性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      
        可用性模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可用性模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      
        故障切换
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="故障切换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#active-passive" class="md-nav__link">
    <span class="md-ellipsis">
      
        工作到备用切换（Active-passive）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-active" class="md-nav__link">
    <span class="md-ellipsis">
      
        双工作切换（Active-active）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：故障切换
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      
        复制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="复制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      
        主─从复制和主─主复制
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      
        域名系统
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="域名系统">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷:DNS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    <span class="md-ellipsis">
      
        内容分发网络（CDN）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="内容分发网络（CDN）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cdn-push" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDN 推送（push）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn-pull" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDN 拉取（pull）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：CDN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      
        负载均衡器
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="负载均衡器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      
        四层负载均衡
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      
        七层负载均衡器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      
        水平扩展
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="水平扩展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：水平扩展
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：负载均衡器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    <span class="md-ellipsis">
      
        反向代理（web 服务器）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="反向代理（web 服务器）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      
        负载均衡器与反向代理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：反向代理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      
        应用层
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="应用层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      
        微服务
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      
        服务发现
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：应用层
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据库
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rdbms" class="md-nav__link">
    <span class="md-ellipsis">
      
        关系型数据库管理系统（RDBMS）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="关系型数据库管理系统（RDBMS）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      
        主从复制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="主从复制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：主从复制
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      
        主主复制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="主主复制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处： 主主复制
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：复制
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      
        联合
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="联合">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：联合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：联合
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      
        分片
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="分片">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：分片
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：分片
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    <span class="md-ellipsis">
      
        非规范化
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="非规范化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：非规范化
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：非规范化
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQL 调优
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL 调优">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      
        改进模式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用正确的索引
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      
        避免高成本的联结操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      
        分割数据表
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      
        调优查询缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nosql" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      
        键-值存储
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    <span class="md-ellipsis">
      
        文档类型存储
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：文档类型存储
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      
        列型存储
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="列型存储">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：列型存储
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    <span class="md-ellipsis">
      
        图数据库
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="图数据库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读：图
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nosql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：NoSQL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-nosql" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQL 还是 NoSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL 还是 NoSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql-nosql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：SQL 或 NoSQL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="缓存">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_79" class="md-nav__link">
    <span class="md-ellipsis">
      
        客户端缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDN 缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Web 服务器缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_80" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据库缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_81" class="md-nav__link">
    <span class="md-ellipsis">
      
        应用缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_82" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据库查询级别的缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_83" class="md-nav__link">
    <span class="md-ellipsis">
      
        对象级别的缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_84" class="md-nav__link">
    <span class="md-ellipsis">
      
        何时更新缓存
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="何时更新缓存">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_85" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="缓存模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_86" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_87" class="md-nav__link">
    <span class="md-ellipsis">
      
        直写模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="直写模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_88" class="md-nav__link">
    <span class="md-ellipsis">
      
        直写模式的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_89" class="md-nav__link">
    <span class="md-ellipsis">
      
        回写模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="回写模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_90" class="md-nav__link">
    <span class="md-ellipsis">
      
        回写模式的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_91" class="md-nav__link">
    <span class="md-ellipsis">
      
        刷新
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="刷新">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_92" class="md-nav__link">
    <span class="md-ellipsis">
      
        刷新的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_93" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存的缺点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_94" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_95" class="md-nav__link">
    <span class="md-ellipsis">
      
        异步
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="异步">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_96" class="md-nav__link">
    <span class="md-ellipsis">
      
        消息队列
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_97" class="md-nav__link">
    <span class="md-ellipsis">
      
        任务队列
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_98" class="md-nav__link">
    <span class="md-ellipsis">
      
        背压
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_99" class="md-nav__link">
    <span class="md-ellipsis">
      
        异步的缺点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_100" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_101" class="md-nav__link">
    <span class="md-ellipsis">
      
        通讯
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="通讯">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      
        超文本传输协议（HTTP）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="超文本传输协议（HTTP）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：HTTP
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      
        传输控制协议（TCP）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    <span class="md-ellipsis">
      
        用户数据报协议（UDP）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="用户数据报协议（UDP）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp-udp" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：TCP 与 UDP
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        远程过程调用协议（RPC）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="远程过程调用协议（RPC）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rpc_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺点：RPC
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    <span class="md-ellipsis">
      
        表述性状态转移（REST）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="表述性状态转移（REST）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rest_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺点：REST
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc-rest" class="md-nav__link">
    <span class="md-ellipsis">
      
        RPC 与 REST 比较
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RPC 与 REST 比较">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rest-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：REST 与 RPC
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_102" class="md-nav__link">
    <span class="md-ellipsis">
      
        安全
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_103" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_104" class="md-nav__link">
    <span class="md-ellipsis">
      
        附录
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2 的次方表
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 的次方表">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_105" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_106" class="md-nav__link">
    <span class="md-ellipsis">
      
        每个程序员都应该知道的延迟数
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="每个程序员都应该知道的延迟数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_107" class="md-nav__link">
    <span class="md-ellipsis">
      
        延迟数可视化
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_108" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_109" class="md-nav__link">
    <span class="md-ellipsis">
      
        其它的系统设计面试题
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_110" class="md-nav__link">
    <span class="md-ellipsis">
      
        真实架构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_111" class="md-nav__link">
    <span class="md-ellipsis">
      
        公司的系统架构
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="公司的系统架构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_112" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_113" class="md-nav__link">
    <span class="md-ellipsis">
      
        正在完善中
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    通识编程语言
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    通识编程语言
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Rust/Rust/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rust程序设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Go/Go/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Go
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Lua/Lua/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lua
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Haskell/Haskell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Haskell
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Python/%E6%B5%81%E7%95%85%E7%9A%84Python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    流畅的Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Python/Python%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%9F%BA%E6%9C%AC%E6%A1%86%E6%9E%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python后端开发基本框架
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Python/Python%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B8%8E%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python数据处理与计算框架
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    面试题
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    面试题
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/C%2B%2B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C++
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/Redis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/MySQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/PostgreSQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    消息队列
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%8F%E8%B0%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分布式协调
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%BD%91%E5%85%B3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    网关
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%85%B6%E5%AE%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    其它
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    其他
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    其他
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../其他/计算机与人脑.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    计算机与人脑
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步: 描述使用场景, 约束和假设
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：创造一个高层级的设计
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：设计核心组件
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        第四步：扩展设计
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        预估计算量
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        系统设计的面试题和解答
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统设计的面试题和解答">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pastebincom-bitly" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计 Pastebin.com (或者 Bit.ly)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#twitter-facebook-feed" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计 Twitter 时间线和搜索 (或者 Facebook feed 和搜索)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计一个网页爬虫
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mintcom" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计 Mint.com
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        为一个社交网络设计数据结构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-value" class="md-nav__link">
    <span class="md-ellipsis">
      
        为搜索引擎设计一个 key-value 储存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计按类别分类的 Amazon 销售排名
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws" class="md-nav__link">
    <span class="md-ellipsis">
      
        在 AWS 上设计一个百万用户级别的系统
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        面向对象设计的面试问题及解答
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        系统设计主题：从这里开始
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="系统设计主题：从这里开始">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scalability" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：回顾可扩展性（scalability）的视频讲座
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：回顾可扩展性文章
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        接下来的步骤
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        性能与可扩展性
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="性能与可扩展性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        延迟与吞吐量
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="延迟与吞吐量">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        可用性与一致性
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可用性与一致性">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cap" class="md-nav__link">
    <span class="md-ellipsis">
      
        CAP 理论
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CAP 理论">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cp" class="md-nav__link">
    <span class="md-ellipsis">
      
        CP ─ 一致性和分区容错性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ap" class="md-nav__link">
    <span class="md-ellipsis">
      
        AP ─ 可用性与分区容错性
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        一致性模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一致性模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        弱一致性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        最终一致性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        强一致性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      
        可用性模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="可用性模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      
        故障切换
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="故障切换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#active-passive" class="md-nav__link">
    <span class="md-ellipsis">
      
        工作到备用切换（Active-passive）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#active-active" class="md-nav__link">
    <span class="md-ellipsis">
      
        双工作切换（Active-active）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：故障切换
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      
        复制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="复制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      
        主─从复制和主─主复制
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      
        域名系统
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="域名系统">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷:DNS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    <span class="md-ellipsis">
      
        内容分发网络（CDN）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="内容分发网络（CDN）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cdn-push" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDN 推送（push）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn-pull" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDN 拉取（pull）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：CDN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      
        负载均衡器
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="负载均衡器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      
        四层负载均衡
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      
        七层负载均衡器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      
        水平扩展
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="水平扩展">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：水平扩展
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺陷：负载均衡器
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    <span class="md-ellipsis">
      
        反向代理（web 服务器）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="反向代理（web 服务器）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      
        负载均衡器与反向代理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：反向代理
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      
        应用层
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="应用层">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      
        微服务
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      
        服务发现
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：应用层
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据库
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rdbms" class="md-nav__link">
    <span class="md-ellipsis">
      
        关系型数据库管理系统（RDBMS）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="关系型数据库管理系统（RDBMS）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      
        主从复制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="主从复制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：主从复制
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      
        主主复制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="主主复制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处： 主主复制
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：复制
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      
        联合
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="联合">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：联合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：联合
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      
        分片
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="分片">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：分片
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：分片
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    <span class="md-ellipsis">
      
        非规范化
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="非规范化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      
        不利之处：非规范化
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：非规范化
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQL 调优
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL 调优">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      
        改进模式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用正确的索引
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      
        避免高成本的联结操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      
        分割数据表
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      
        调优查询缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nosql" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    <span class="md-ellipsis">
      
        键-值存储
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    <span class="md-ellipsis">
      
        文档类型存储
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：文档类型存储
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      
        列型存储
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="列型存储">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：列型存储
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    <span class="md-ellipsis">
      
        图数据库
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="图数据库">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读：图
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nosql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：NoSQL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-nosql" class="md-nav__link">
    <span class="md-ellipsis">
      
        SQL 还是 NoSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQL 还是 NoSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sql-nosql_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：SQL 或 NoSQL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="缓存">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_79" class="md-nav__link">
    <span class="md-ellipsis">
      
        客户端缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdn_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        CDN 缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Web 服务器缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_80" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据库缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_81" class="md-nav__link">
    <span class="md-ellipsis">
      
        应用缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_82" class="md-nav__link">
    <span class="md-ellipsis">
      
        数据库查询级别的缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_83" class="md-nav__link">
    <span class="md-ellipsis">
      
        对象级别的缓存
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_84" class="md-nav__link">
    <span class="md-ellipsis">
      
        何时更新缓存
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="何时更新缓存">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_85" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="缓存模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_86" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_87" class="md-nav__link">
    <span class="md-ellipsis">
      
        直写模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="直写模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_88" class="md-nav__link">
    <span class="md-ellipsis">
      
        直写模式的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_89" class="md-nav__link">
    <span class="md-ellipsis">
      
        回写模式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="回写模式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_90" class="md-nav__link">
    <span class="md-ellipsis">
      
        回写模式的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_91" class="md-nav__link">
    <span class="md-ellipsis">
      
        刷新
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="刷新">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_92" class="md-nav__link">
    <span class="md-ellipsis">
      
        刷新的缺点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_93" class="md-nav__link">
    <span class="md-ellipsis">
      
        缓存的缺点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_94" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_95" class="md-nav__link">
    <span class="md-ellipsis">
      
        异步
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="异步">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_96" class="md-nav__link">
    <span class="md-ellipsis">
      
        消息队列
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_97" class="md-nav__link">
    <span class="md-ellipsis">
      
        任务队列
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_98" class="md-nav__link">
    <span class="md-ellipsis">
      
        背压
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_99" class="md-nav__link">
    <span class="md-ellipsis">
      
        异步的缺点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_100" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关资源和延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_101" class="md-nav__link">
    <span class="md-ellipsis">
      
        通讯
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="通讯">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      
        超文本传输协议（HTTP）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="超文本传输协议（HTTP）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：HTTP
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      
        传输控制协议（TCP）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#udp" class="md-nav__link">
    <span class="md-ellipsis">
      
        用户数据报协议（UDP）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="用户数据报协议（UDP）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp-udp" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：TCP 与 UDP
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        远程过程调用协议（RPC）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="远程过程调用协议（RPC）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rpc_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺点：RPC
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    <span class="md-ellipsis">
      
        表述性状态转移（REST）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="表述性状态转移（REST）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rest_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        缺点：REST
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc-rest" class="md-nav__link">
    <span class="md-ellipsis">
      
        RPC 与 REST 比较
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RPC 与 REST 比较">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rest-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读：REST 与 RPC
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_102" class="md-nav__link">
    <span class="md-ellipsis">
      
        安全
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="安全">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_103" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_104" class="md-nav__link">
    <span class="md-ellipsis">
      
        附录
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      
        2 的次方表
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 的次方表">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_105" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_106" class="md-nav__link">
    <span class="md-ellipsis">
      
        每个程序员都应该知道的延迟数
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="每个程序员都应该知道的延迟数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_107" class="md-nav__link">
    <span class="md-ellipsis">
      
        延迟数可视化
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_108" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_109" class="md-nav__link">
    <span class="md-ellipsis">
      
        其它的系统设计面试题
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_110" class="md-nav__link">
    <span class="md-ellipsis">
      
        真实架构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_111" class="md-nav__link">
    <span class="md-ellipsis">
      
        公司的系统架构
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="公司的系统架构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_112" class="md-nav__link">
    <span class="md-ellipsis">
      
        来源及延伸阅读
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_113" class="md-nav__link">
    <span class="md-ellipsis">
      
        正在完善中
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="导航栏" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    目录
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/" class="md-path__link">
          
  <span class="md-ellipsis">
    分布式
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="_1">系统设计</h1>
<h3 id="_2">第一步: 描述使用场景, 约束和假设</h3>
<ul>
<li>谁会使用它？</li>
<li>他们会怎样使用它？</li>
<li>有多少用户？</li>
<li>系统的作用是什么？</li>
<li>系统的输入输出分别是什么？</li>
<li>我们希望处理多少数据？</li>
<li>我们希望每秒钟处理多少请求？</li>
<li>我们希望的读写比率？</li>
</ul>
<h3 id="_3">第二步：创造一个高层级的设计</h3>
<p>使用所有重要的组件来描绘出一个高层级的设计。</p>
<ul>
<li>画出主要的组件和连接</li>
<li>证明你的想法</li>
</ul>
<h3 id="_4">第三步：设计核心组件</h3>
<p>对每一个核心组件进行详细深入的分析。举例来说，如果你被问到[设计一个 url 缩写服务solutions/system_design/pastebin/README.md)，开始讨论：</p>
<ul>
<li>生成并储存一个完整 url 的 hash
        - [MD5solutions/system_design/pastebin/README.md) 和 [Base62solutions/system_design/pastebin/README.md)
        - Hash 碰撞
        - SQL 还是 NoSQL
        - 数据库模型</li>
<li>将一个 hashed url 翻译成完整的 url
        - 数据库查找</li>
<li>API 和面向对象设计</li>
</ul>
<h3 id="_5">第四步：扩展设计</h3>
<p>确认和处理瓶颈以及一些限制。举例来说就是你需要下面的这些来完成扩展性的议题吗？</p>
<ul>
<li>负载均衡</li>
<li>水平扩展</li>
<li>缓存</li>
<li>数据库分片</li>
</ul>
<p>论述可能的解决办法和代价。每件事情需要取舍。可以使用[可扩展系统的设计原则#系统设计主题的索引)来处理瓶颈。</p>
<h3 id="_6">预估计算量</h3>
<p>你或许会被要求通过手算进行一些估算。[附录#附录)涉及到的是下面的这些资源：</p>
<ul>
<li>[使用预估计算量http://highscalability.com/blog/2011/1/26/google-pro-tip-use-back-of-the-envelope-calculations-to-choo.html)</li>
<li>[2 的次方表#2-的次方表)</li>
<li>[每个程序员都应该知道的延迟数#每个程序员都应该知道的延迟数)</li>
</ul>
<h3 id="_7">相关资源和延伸阅读</h3>
<p>查看下面的链接以获得我们期望的更好的想法：</p>
<ul>
<li>[怎样通过一个系统设计的面试https://web.archive.org/web/20210505130322/https://www.palantir.com/2011/10/how-to-rock-a-systems-design-interview/)</li>
<li>[系统设计的面试http://www.hiredintech.com/system-design)</li>
<li>[系统架构与设计的面试简介https://www.youtube.com/watch?v=ZgdS0EUmn70)</li>
</ul>
<h2 id="_8">系统设计的面试题和解答</h2>
<blockquote>
<p>普通的系统设计面试题和相关事例的论述，代码和图表。
与内容有关的解答在 <code>solutions/</code> 文件夹中。</p>
</blockquote>
<table>
<thead>
<tr>
<th>问题</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>设计 Pastebin.com (或者 Bit.ly)</td>
<td>[解答solutions/system_design/pastebin/README-zh-Hans.md)</td>
</tr>
<tr>
<td>设计 Twitter 时间线和搜索 (或者 Facebook feed 和搜索)</td>
<td>[解答solutions/system_design/twitter/README.md)</td>
</tr>
<tr>
<td>设计一个网页爬虫</td>
<td>[解答solutions/system_design/web_crawler/README.md)</td>
</tr>
<tr>
<td>设计 Mint.com</td>
<td>[解答solutions/system_design/mint/README.md)</td>
</tr>
<tr>
<td>为一个社交网络设计数据结构</td>
<td>[解答solutions/system_design/social_graph/README.md)</td>
</tr>
<tr>
<td>为搜索引擎设计一个 key-value 储存</td>
<td>[解答solutions/system_design/query_cache/README.md)</td>
</tr>
<tr>
<td>通过分类特性设计 Amazon 的销售排名</td>
<td>[解答solutions/system_design/sales_rank/README.md)</td>
</tr>
<tr>
<td>在 AWS 上设计一个百万用户级别的系统</td>
<td>[解答solutions/system_design/scaling_aws/README.md)</td>
</tr>
<tr>
<td>添加一个系统设计问题</td>
<td>[贡献#贡献)</td>
</tr>
</tbody>
</table>
<h3 id="pastebincom-bitly">设计 Pastebin.com (或者 Bit.ly)</h3>
<p>[查看实践与解答solutions/system_design/pastebin/README.md)</p>
<p>![Imgurimages/4edXG0T.png)</p>
<h3 id="twitter-facebook-feed">设计 Twitter 时间线和搜索 (或者 Facebook feed 和搜索)</h3>
<p>[查看实践与解答solutions/system_design/twitter/README.md)</p>
<p>![Imgurimages/jrUBAF7.png)</p>
<h3 id="_9">设计一个网页爬虫</h3>
<p>[查看实践与解答solutions/system_design/web_crawler/README.md)</p>
<p>![Imgurimages/bWxPtQA.png)</p>
<h3 id="mintcom">设计 Mint.com</h3>
<p>[查看实践与解答solutions/system_design/mint/README.md)</p>
<p>![Imgurimages/V5q57vU.png)</p>
<h3 id="_10">为一个社交网络设计数据结构</h3>
<p>[查看实践与解答solutions/system_design/social_graph/README.md)</p>
<p>![Imgurimages/cdCv5g7.png)</p>
<h3 id="key-value">为搜索引擎设计一个 key-value 储存</h3>
<p>[查看实践与解答solutions/system_design/query_cache/README.md)</p>
<p>![Imgurimages/4j99mhe.png)</p>
<h3 id="amazon">设计按类别分类的 Amazon 销售排名</h3>
<p>[查看实践与解答solutions/system_design/sales_rank/README.md)</p>
<p>![Imgurimages/MzExP06.png)</p>
<h3 id="aws">在 AWS 上设计一个百万用户级别的系统</h3>
<p>[查看实践与解答solutions/system_design/scaling_aws/README.md)</p>
<p>![Imgurimages/jj3A5N8.png)</p>
<h2 id="_11">面向对象设计的面试问题及解答</h2>
<blockquote>
<p>常见面向对象设计面试问题及实例讨论，代码和图表演示。</p>
<p>与内容相关的解决方案在 <code>solutions/</code> 文件夹中。</p>
<p><strong>注：此节还在完善中</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>问题</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>设计 hash map</td>
<td>[解决方案solutions/object_oriented_design/hash_table/hash_map.ipynb)</td>
</tr>
<tr>
<td>设计 LRU 缓存</td>
<td>[解决方案solutions/object_oriented_design/lru_cache/lru_cache.ipynb)</td>
</tr>
<tr>
<td>设计一个呼叫中心</td>
<td>[解决方案solutions/object_oriented_design/call_center/call_center.ipynb)</td>
</tr>
<tr>
<td>设计一副牌</td>
<td>[解决方案solutions/object_oriented_design/deck_of_cards/deck_of_cards.ipynb)</td>
</tr>
<tr>
<td>设计一个停车场</td>
<td>[解决方案solutions/object_oriented_design/parking_lot/parking_lot.ipynb)</td>
</tr>
<tr>
<td>设计一个聊天服务</td>
<td>[解决方案solutions/object_oriented_design/online_chat/online_chat.ipynb)</td>
</tr>
<tr>
<td>设计一个环形数组</td>
<td>[待解决#贡献)</td>
</tr>
<tr>
<td>添加一个面向对象设计问题</td>
<td>[待解决#贡献)</td>
</tr>
</tbody>
</table>
<h2 id="_12">系统设计主题：从这里开始</h2>
<p>不熟悉系统设计？</p>
<p>首先，你需要对一般性原则有一个基本的认识，知道它们是什么，怎样使用以及利弊。</p>
<h3 id="scalability">第一步：回顾可扩展性（scalability）的视频讲座</h3>
<p>[哈佛大学可扩展性讲座https://www.youtube.com/watch?v=-W9F__D3oY4)</p>
<ul>
<li>主题涵盖
        - 垂直扩展（Vertical scaling）
        - 水平扩展（Horizontal scaling）
        - 缓存
        - 负载均衡
        - 数据库复制
        - 数据库分区</li>
</ul>
<h3 id="_13">第二步：回顾可扩展性文章</h3>
<p>[可扩展性https://web.archive.org/web/20221030091841/http://www.lecloud.net/tagged/scalability/chrono)</p>
<ul>
<li>主题涵盖：
        - [Cloneshttps://web.archive.org/web/20220530193911/https://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones)
        - [数据库https://web.archive.org/web/20220602114024/https://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database)
        - [缓存https://web.archive.org/web/20230126233752/https://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache)
        - [异步https://web.archive.org/web/20220926171507/https://www.lecloud.net/post/9699762917/scalability-for-dummies-part-4-asynchronism)</li>
</ul>
<h3 id="_14">接下来的步骤</h3>
<p>接下来，我们将看看高阶的权衡和取舍:</p>
<ul>
<li><strong>性能</strong>与<strong>可扩展性</strong></li>
<li><strong>延迟</strong>与<strong>吞吐量</strong></li>
<li><strong>可用性</strong>与<strong>一致性</strong></li>
</ul>
<p>记住<strong>每个方面都面临取舍和权衡</strong>。</p>
<p>然后，我们将深入更具体的主题，如 DNS, CDN 和负载均衡器。</p>
<h2 id="_15">性能与可扩展性</h2>
<p>如果服务<strong>性能</strong>的增长与资源的增加是成比例的，服务就是可扩展的。通常，提高性能意味着服务于更多的工作单元，另一方面，当数据集增长时，同样也可以处理更大的工作单位。<sup><a href="http://www.allthingsdistributed.com/2006/03/a_word_on_scalability.html">1</a></sup></p>
<p>另一个角度来看待性能与可扩展性:</p>
<ul>
<li>如果你的系统有<strong>性能</strong>问题，对于单个用户来说是缓慢的。</li>
<li>如果你的系统有<strong>可扩展性</strong>问题，单个用户较快但在高负载下会变慢。</li>
</ul>
<h3 id="_16">来源及延伸阅读</h3>
<ul>
<li>[简单谈谈可扩展性http://www.allthingsdistributed.com/2006/03/a_word_on_scalability.html)</li>
<li>[可扩展性，可用性，稳定性和模式http://www.slideshare.net/jboner/scalability-availability-stability-patterns/)</li>
</ul>
<h2 id="_17">延迟与吞吐量</h2>
<p><strong>延迟</strong>是执行操作或运算结果所花费的时间。</p>
<p><strong>吞吐量</strong>是单位时间内（执行）此类操作或运算的数量。</p>
<p>通常，你应该以<strong>可接受级延迟</strong>下<strong>最大化吞吐量</strong>为目标。</p>
<h3 id="_18">来源及延伸阅读</h3>
<ul>
<li>[理解延迟与吞吐量https://community.cadence.com/cadence_blogs_8/b/sd/archive/2010/09/13/understanding-latency-vs-throughput)</li>
</ul>
<h2 id="_19">可用性与一致性</h2>
<h3 id="cap">CAP 理论</h3>
<p align="center">
  <img src="images/bgLMI2u.png">
  <br/>
  <strong><a href="http://robertgreiner.com/2014/08/cap-theorem-revisited">来源：再看 CAP 理论</a></strong>
</p>

<p>在一个分布式计算系统中，只能同时满足下列的两点:</p>
<ul>
<li>*<em>一致性</em>- ─ 每次访问都能获得最新数据但可能会收到错误响应</li>
<li>*<em>可用性</em>- ─ 每次访问都能收到非错响应，但不保证获取到最新数据</li>
<li>*<em>分区容错性</em>- ─ 在任意分区网络故障的情况下系统仍能继续运行</li>
</ul>
<p><strong>网络并不可靠，所以你应要支持分区容错性，并需要在软件可用性和一致性间做出取舍。</strong></p>
<h4 id="cp">CP ─ 一致性和分区容错性</h4>
<p>等待分区节点的响应可能会导致延时错误。如果你的业务需求需要原子读写，CP 是一个不错的选择。</p>
<h4 id="ap">AP ─ 可用性与分区容错性</h4>
<p>响应节点上可用数据的最近版本可能并不是最新的。当分区解析完后，写入（操作）可能需要一些时间来传播。</p>
<p>如果业务需求允许[最终一致性#最终一致性)，或当有外部故障时要求系统继续运行，AP 是一个不错的选择。</p>
<h3 id="_20">来源及延伸阅读</h3>
<ul>
<li>[再看 CAP 理论http://robertgreiner.com/2014/08/cap-theorem-revisited/)</li>
<li>[通俗易懂地介绍 CAP 理论http://ksat.me/a-plain-english-introduction-to-cap-theorem/)</li>
<li>[CAP FAQhttps://github.com/henryr/cap-faq)</li>
</ul>
<h2 id="_21">一致性模式</h2>
<p>有同一份数据的多份副本，我们面临着怎样同步它们的选择，以便让客户端有一致的显示数据。回想 [CAP 理论#cap-理论)中的一致性定义 ─ 每次访问都能获得最新数据但可能会收到错误响应</p>
<h3 id="_22">弱一致性</h3>
<p>在写入之后，访问可能看到，也可能看不到（写入数据）。尽力优化之让其能访问最新数据。</p>
<p>这种方式可以 memcached 等系统中看到。弱一致性在 VoIP，视频聊天和实时多人游戏等真实用例中表现不错。打个比方，如果你在通话中丢失信号几秒钟时间，当重新连接时你是听不到这几秒钟所说的话的。</p>
<h3 id="_23">最终一致性</h3>
<p>在写入后，访问最终能看到写入数据（通常在数毫秒内）。数据被异步复制。</p>
<p>DNS 和 email 等系统使用的是此种方式。最终一致性在高可用性系统中效果不错。</p>
<h3 id="_24">强一致性</h3>
<p>在写入后，访问立即可见。数据被同步复制。</p>
<p>文件系统和关系型数据库（RDBMS）中使用的是此种方式。强一致性在需要记录的系统中运作良好。</p>
<h3 id="_25">来源及延伸阅读</h3>
<ul>
<li>[Transactions across data centershttp://snarfed.org/transactions_across_datacenters_io.html)</li>
</ul>
<h2 id="_26">可用性模式</h2>
<p>有两种支持高可用性的模式: <strong>故障切换（fail-over）</strong>和<strong>复制（replication）</strong>。</p>
<h3 id="_27">故障切换</h3>
<h4 id="active-passive">工作到备用切换（Active-passive）</h4>
<p>关于工作到备用的故障切换流程是，工作服务器发送周期信号给待机中的备用服务器。如果周期信号中断，备用服务器切换成工作服务器的 IP 地址并恢复服务。</p>
<p>宕机时间取决于备用服务器处于“热”待机状态还是需要从“冷”待机状态进行启动。只有工作服务器处理流量。</p>
<p>工作到备用的故障切换也被称为主从切换。</p>
<h4 id="active-active">双工作切换（Active-active）</h4>
<p>在双工作切换中，双方都在管控流量，在它们之间分散负载。</p>
<p>如果是外网服务器，DNS 将需要对两方都了解。如果是内网服务器，应用程序逻辑将需要对两方都了解。</p>
<p>双工作切换也可以称为主主切换。</p>
<h3 id="_28">缺陷：故障切换</h3>
<ul>
<li>故障切换需要添加额外硬件并增加复杂性。</li>
<li>如果新写入数据在能被复制到备用系统之前，工作系统出现了故障，则有可能会丢失数据。</li>
</ul>
<h3 id="_29">复制</h3>
<h4 id="_30">主─从复制和主─主复制</h4>
<p>这个主题进一步探讨了[数据库#数据库)部分:</p>
<ul>
<li>[主─从复制#主从复制)</li>
<li>[主─主复制#主主复制)</li>
</ul>
<h2 id="_31">域名系统</h2>
<p align="center">
  <img src="images/IOyLj4i.jpg">
  <br/>
  <strong><a href="http://www.slideshare.net/srikrupa5/dns-security-presentation-issa">来源：DNS 安全介绍</a></strong>
</p>

<p>域名系统是把 <www.example.com> 等域名转换成 IP 地址。</p>
<p>域名系统是分层次的，一些 DNS 服务器位于顶层。当查询（域名） IP 时，路由或 ISP 提供连接 DNS 服务器的信息。较底层的 DNS 服务器缓存映射，它可能会因为 DNS 传播延时而失效。DNS 结果可以缓存在浏览器或操作系统中一段时间，时间长短取决于[存活时间 TTLhttps://en.wikipedia.org/wiki/Time_to_live)。</p>
<ul>
<li>*<em>NS 记录（域名服务）</em>- ─ 指定解析域名或子域名的 DNS 服务器。</li>
<li>*<em>MX 记录（邮件交换）</em>- ─ 指定接收信息的邮件服务器。</li>
<li>*<em>A 记录（地址）</em>- ─ 指定域名对应的 IP 地址记录。</li>
<li>*<em>CNAME（规范）</em>- ─ 一个域名映射到另一个域名或 <code>CNAME</code> 记录（ example.com 指向 <www.example.com> ）或映射到一个 <code>A</code> 记录。</li>
</ul>
<p>[CloudFlarehttps://www.cloudflare.com/dns/) 和 [Route 53https://aws.amazon.com/route53/) 等平台提供管理 DNS 的功能。某些 DNS 服务通过集中方式来路由流量:</p>
<ul>
<li>[加权轮询调度http://g33kinfo.com/info/archives/2657)
        - 防止流量进入维护中的服务器
        - 在不同大小集群间负载均衡
        - A/B 测试</li>
<li>基于延迟路由</li>
<li>基于地理位置路由</li>
</ul>
<h3 id="dns">缺陷:DNS</h3>
<ul>
<li>虽说缓存可以减轻 DNS 延迟，但连接 DNS 服务器还是带来了轻微的延迟。</li>
<li>虽然它们通常由[政府，网络服务提供商和大公司http://superuser.com/questions/472695/who-controls-the-dns-servers/472729)管理，但 DNS 服务管理仍可能是复杂的。</li>
<li>DNS 服务最近遭受 [DDoS 攻击http://dyn.com/blog/dyn-analysis-summary-of-friday-october-21-attack/)，阻止不知道 Twitter IP 地址的用户访问 Twitter。</li>
</ul>
<h3 id="_32">来源及延伸阅读</h3>
<ul>
<li>[DNS 架构https://technet.microsoft.com/en-us/library/dd197427(v=ws.10).aspx)</li>
<li>[Wikipediahttps://en.wikipedia.org/wiki/Domain_Name_System)</li>
<li>[关于 DNS 的文章https://support.dnsimple.com/categories/dns/)</li>
</ul>
<h2 id="cdn">内容分发网络（CDN）</h2>
<p align="center">
  <img src="images/h9TAuGI.jpg">
  <br/>
  <strong><a href="https://www.creative-artworks.eu/why-use-a-content-delivery-network-cdn/">来源：为什么使用 CDN</a></strong>
</p>

<p>内容分发网络（CDN）是一个全球性的代理服务器分布式网络，它从靠近用户的位置提供内容。通常，HTML/CSS/JS，图片和视频等静态内容由 CDN 提供，虽然亚马逊 CloudFront 等也支持动态内容。CDN 的 DNS 解析会告知客户端连接哪台服务器。</p>
<p>将内容存储在 CDN 上可以从两个方面来提供性能:</p>
<ul>
<li>从靠近用户的数据中心提供资源</li>
<li>通过 CDN 你的服务器不必真的处理请求</li>
</ul>
<h3 id="cdn-push">CDN 推送（push）</h3>
<p>当你服务器上内容发生变动时，推送 CDN 接受新内容。直接推送给 CDN 并重写 URL 地址以指向你的内容的 CDN 地址。你可以配置内容到期时间及何时更新。内容只有在更改或新增是才推送，流量最小化，但储存最大化。</p>
<h3 id="cdn-pull">CDN 拉取（pull）</h3>
<p>CDN 拉取是当第一个用户请求该资源时，从服务器上拉取资源。你将内容留在自己的服务器上并重写 URL 指向 CDN 地址。直到内容被缓存在 CDN 上为止，这样请求只会更慢，</p>
<p>[存活时间（TTL）https://en.wikipedia.org/wiki/Time_to_live)决定缓存多久时间。CDN 拉取方式最小化 CDN 上的储存空间，但如果过期文件并在实际更改之前被拉取，则会导致冗余的流量。</p>
<p>高流量站点使用 CDN 拉取效果不错，因为只有最近请求的内容保存在 CDN 中，流量才能更平衡地分散。</p>
<h3 id="cdn_1">缺陷：CDN</h3>
<ul>
<li>CDN 成本可能因流量而异，可能在权衡之后你将不会使用 CDN。</li>
<li>如果在 TTL 过期之前更新内容，CDN 缓存内容可能会过时。</li>
<li>CDN 需要更改静态内容的 URL 地址以指向 CDN。</li>
</ul>
<h3 id="_33">来源及延伸阅读</h3>
<ul>
<li>[全球性内容分发网络http://repository.cmu.edu/cgi/viewcontent.cgi?article=2112&amp;context=compsci)</li>
<li>[CDN 拉取和 CDN 推送的区别http://www.travelblogadvice.com/technical/the-differences-between-push-and-pull-cdns/)</li>
<li>[Wikipediahttps://en.wikipedia.org/wiki/Content_delivery_network)</li>
</ul>
<h2 id="_34">负载均衡器</h2>
<p align="center">
  <img src="images/h81n9iK.png">
  <br/>
  <strong><a href="http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html">来源：可扩展的系统设计模式</a></strong>
</p>

<p>负载均衡器将传入的请求分发到应用服务器和数据库等计算资源。无论哪种情况，负载均衡器将从计算资源来的响应返回给恰当的客户端。负载均衡器的效用在于:</p>
<ul>
<li>防止请求进入不好的服务器</li>
<li>防止资源过载</li>
<li>帮助消除单一的故障点</li>
</ul>
<p>负载均衡器可以通过硬件（昂贵）或 HAProxy 等软件来实现。
增加的好处包括:</p>
<ul>
<li>*<em>SSL 终结</em>- ─ 解密传入的请求并加密服务器响应，这样的话后端服务器就不必再执行这些潜在高消耗运算了。
        - 不需要再每台服务器上安装 [X.509 证书https://en.wikipedia.org/wiki/X.509)。</li>
<li>*<em>Session 留存</em>- ─ 如果 Web 应用程序不追踪会话，发出 cookie 并将特定客户端的请求路由到同一实例。</li>
</ul>
<p>通常会设置采用[工作─备用#工作到备用切换active-passive) 或 [双工作#双工作切换active-active) 模式的多个负载均衡器，以免发生故障。</p>
<p>负载均衡器能基于多种方式来路由流量:</p>
<ul>
<li>随机</li>
<li>最少负载</li>
<li>Session/cookie</li>
<li>[轮询调度或加权轮询调度算法http://g33kinfo.com/info/archives/2657)</li>
<li>[四层负载均衡#四层负载均衡)</li>
<li>[七层负载均衡#七层负载均衡)</li>
</ul>
<h3 id="_35">四层负载均衡</h3>
<p>四层负载均衡根据监看[传输层#通讯)的信息来决定如何分发请求。通常，这会涉及来源，目标 IP 地址和请求头中的端口，但不包括数据包（报文）内容。四层负载均衡执行[网络地址转换（NAT）https://www.nginx.com/resources/glossary/layer-4-load-balancing/)来向上游服务器转发网络数据包。</p>
<h3 id="_36">七层负载均衡器</h3>
<p>七层负载均衡器根据监控[应用层#通讯)来决定怎样分发请求。这会涉及请求头的内容，消息和 cookie。七层负载均衡器终结网络流量，读取消息，做出负载均衡判定，然后传送给特定服务器。比如，一个七层负载均衡器能直接将视频流量连接到托管视频的服务器，同时将更敏感的用户账单流量引导到安全性更强的服务器。</p>
<p>以损失灵活性为代价，四层负载均衡比七层负载均衡花费更少时间和计算资源，虽然这对现代商用硬件的性能影响甚微。</p>
<h3 id="_37">水平扩展</h3>
<p>负载均衡器还能帮助水平扩展，提高性能和可用性。使用商业硬件的性价比更高，并且比在单台硬件上<strong>垂直扩展</strong>更贵的硬件具有更高的可用性。相比招聘特定企业系统人才，招聘商业硬件方面的人才更加容易。</p>
<h4 id="_38">缺陷：水平扩展</h4>
<ul>
<li>水平扩展引入了复杂度并涉及服务器复制
        - 服务器应该是无状态的:它们也不该包含像 session 或资料图片等与用户关联的数据。
        - session 可以集中存储在数据库或持久化[缓存#缓存)（Redis, Memcached）的数据存储区中。</li>
<li>缓存和数据库等下游服务器需要随着上游服务器进行扩展，以处理更多的并发连接。</li>
</ul>
<h3 id="_39">缺陷：负载均衡器</h3>
<ul>
<li>如果没有足够的资源配置或配置错误，负载均衡器会变成一个性能瓶颈。</li>
<li>引入负载均衡器以帮助消除单点故障但导致了额外的复杂性。</li>
<li>单个负载均衡器会导致单点故障，但配置多个负载均衡器会进一步增加复杂性。</li>
</ul>
<h3 id="_40">来源及延伸阅读</h3>
<ul>
<li>[NGINX 架构https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/)</li>
<li>[HAProxy 架构指南http://www.haproxy.org/download/1.2/doc/architecture.txt)</li>
<li>[可扩展性https://web.archive.org/web/20220530193911/https://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones)</li>
<li>[Wikipediahttps://en.wikipedia.org/wiki/Load_balancing_(computing))</li>
<li>[四层负载平衡https://www.nginx.com/resources/glossary/layer-4-load-balancing/)</li>
<li>[七层负载平衡https://www.nginx.com/resources/glossary/layer-7-load-balancing/)</li>
<li>[ELB 监听器配置http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-listener-config.html)</li>
</ul>
<h2 id="web">反向代理（web 服务器）</h2>
<p align="center">
  <img src="images/n41Azff.png">
  <br/>
  <strong><a href="https://upload.wikimedia.org/wikipedia/commons/6/67/Reverse_proxy_h2g2bob.svg">资料来源：维基百科</a></strong>
  <br/>
</p>

<p>反向代理是一种可以集中地调用内部服务，并提供统一接口给公共客户的 web 服务器。来自客户端的请求先被反向代理服务器转发到可响应请求的服务器，然后代理再把服务器的响应结果返回给客户端。</p>
<p>带来的好处包括：</p>
<ul>
<li>*<em>增加安全性</em>- - 隐藏后端服务器的信息，屏蔽黑名单中的 IP，限制每个客户端的连接数。</li>
<li>*<em>提高可扩展性和灵活性</em>- - 客户端只能看到反向代理服务器的 IP，这使你可以增减服务器或者修改它们的配置。</li>
<li>*<em>本地终结 SSL 会话</em>- - 解密传入请求，加密服务器响应，这样后端服务器就不必完成这些潜在的高成本的操作。<ul>
<li>免除了在每个服务器上安装 [X.509https://en.wikipedia.org/wiki/X.509) 证书的需要</li>
</ul>
</li>
<li>*<em>压缩</em>- - 压缩服务器响应</li>
<li>*<em>缓存</em>- - 直接返回命中的缓存结果</li>
<li>*<em>静态内容</em>- - 直接提供静态内容<ul>
<li>HTML/CSS/JS</li>
<li>图片</li>
<li>视频</li>
<li>等等</li>
</ul>
</li>
</ul>
<h3 id="_41">负载均衡器与反向代理</h3>
<ul>
<li>当你有多个服务器时，部署负载均衡器非常有用。通常，负载均衡器将流量路由给一组功能相同的服务器上。</li>
<li>即使只有一台 web 服务器或者应用服务器时，反向代理也有用，可以参考上一节介绍的好处。</li>
<li>NGINX 和 HAProxy 等解决方案可以同时支持第七层反向代理和负载均衡。</li>
</ul>
<h3 id="_42">不利之处：反向代理</h3>
<ul>
<li>引入反向代理会增加系统的复杂度。</li>
<li>单独一个反向代理服务器仍可能发生单点故障，配置多台反向代理服务器（如[故障转移https://en.wikipedia.org/wiki/Failover)）会进一步增加复杂度。</li>
</ul>
<h3 id="_43">来源及延伸阅读</h3>
<ul>
<li>[反向代理与负载均衡https://www.nginx.com/resources/glossary/reverse-proxy-vs-load-balancer/)</li>
<li>[NGINX 架构https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/)</li>
<li>[HAProxy 架构指南http://www.haproxy.org/download/1.2/doc/architecture.txt)</li>
<li>[Wikipediahttps://en.wikipedia.org/wiki/Reverse_proxy)</li>
</ul>
<h2 id="_44">应用层</h2>
<p align="center">
  <img src="images/yB5SYwm.png">
  <br/>
  <strong><a href="http://lethain.com/introduction-to-architecting-systems-for-scale/#platform_layer">资料来源：可缩放系统构架介绍</a></strong>
</p>

<p>将 Web 服务层与应用层（也被称作平台层）分离，可以独立缩放和配置这两层。添加新的 API 只需要添加应用服务器，而不必添加额外的 web 服务器。</p>
<p><strong>单一职责原则</strong>提倡小型的，自治的服务共同合作。小团队通过提供小型的服务，可以更激进地计划增长。</p>
<p>应用层中的工作进程也有可以实现[异步化#异步)。</p>
<h3 id="_45">微服务</h3>
<p>与此讨论相关的话题是 [微服务https://en.wikipedia.org/wiki/Microservices)，可以被描述为一系列可以独立部署的小型的，模块化服务。每个服务运行在一个独立的线程中，通过明确定义的轻量级机制通讯，共同实现业务目标。<sup><a href=https://smartbear.com/learn/api-design/what-are-microservices>1</a></sup></p>
<p>例如，Pinterest 可能有这些微服务： 用户资料, 关注者, Feed 流, 搜索, 照片上传等。</p>
<h3 id="_46">服务发现</h3>
<p>像 [Consulhttps://www.consul.io/docs/index.html)，[Etcdhttps://coreos.com/etcd/docs/latest) 和 [Zookeeperhttp://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper) 这样的系统可以通过追踪注册名, 地址, 端口等信息来帮助服务互相发现对方。[Health checkshttps://www.consul.io/intro/getting-started/checks.html) 可以帮助确认服务的完整性和是否经常使用一个 [HTTP#超文本传输协议http) 路径。Consul 和 Etcd 都有一个内建的 [key-value 存储#键-值存储) 用来存储配置信息和其他的共享信息。</p>
<h3 id="_47">不利之处：应用层</h3>
<ul>
<li>添加由多个松耦合服务组成的应用层，从架构, 运营, 流程等层面来讲将非常不同（相对于单体系统）。</li>
<li>微服务会增加部署和运营的复杂度。</li>
</ul>
<h3 id="_48">来源及延伸阅读</h3>
<ul>
<li>[可缩放系统构架介绍http://lethain.com/introduction-to-architecting-systems-for-scale)</li>
<li>[破解系统设计面试http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview)</li>
<li>[面向服务架构https://en.wikipedia.org/wiki/Service-oriented_architecture)</li>
<li>[Zookeeper 介绍http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper)</li>
<li>[构建微服务，你所需要知道的一切https://cloudncode.wordpress.com/2016/07/22/msa-getting-started/)</li>
</ul>
<h2 id="_49">数据库</h2>
<p align="center">
  <img src="images/Xkm5CXz.png">
  <br/>
  <strong><a href="https://www.youtube.com/watch?v=w95murBkYmU">资料来源：扩展你的用户数到第一个一千万</a></strong>
</p>

<h3 id="rdbms">关系型数据库管理系统（RDBMS）</h3>
<p>像 SQL 这样的关系型数据库是一系列以表的形式组织的数据项集合。</p>
<blockquote>
<p>校对注：这里作者 SQL 可能指的是 MySQL</p>
</blockquote>
<p>*<em>ACID</em>- 用来描述关系型数据库[事务https://en.wikipedia.org/wiki/Database_transaction)的特性。</p>
<ul>
<li>*<em>原子性</em>- - 每个事务内部所有操作要么全部完成，要么全部不完成。</li>
<li>*<em>一致性</em>- - 任何事务都使数据库从一个有效的状态转换到另一个有效状态。</li>
<li>*<em>隔离性</em>- - 并发执行事务的结果与顺序执行事务的结果相同。</li>
<li>*<em>持久性</em>- - 事务提交后，对系统的影响是永久的。</li>
</ul>
<p>关系型数据库扩展包括许多技术：<strong>主从复制</strong>, <strong>主主复制</strong>, <strong>联合</strong>, <strong>分片</strong>, <strong>非规范化</strong>和 <strong>SQL调优</strong>。</p>
<p align="center">
  <img src="images/C9ioGtn.png">
  <br/>
  <strong><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/">资料来源：可扩展性, 可用性, 稳定性, 模式</a></strong>
</p>

<h4 id="_50">主从复制</h4>
<p>主库同时负责读取和写入操作，并复制写入到一个或多个从库中，从库只负责读操作。树状形式的从库再将写入复制到更多的从库中去。如果主库离线，系统可以以只读模式运行，直到某个从库被提升为主库或有新的主库出现。</p>
<h5 id="_51">不利之处：主从复制</h5>
<ul>
<li>将从库提升为主库需要额外的逻辑。</li>
<li>参考[不利之处：复制#不利之处复制)中，主从复制和主主复制<strong>共同</strong>的问题。</li>
</ul>
<p align="center">
  <img src="images/krAHLGg.png">
  <br/>
  <strong><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/">资料来源：可扩展性, 可用性, 稳定性, 模式</a></strong>
</p>

<h4 id="_52">主主复制</h4>
<p>两个主库都负责读操作和写操作，写入操作时互相协调。如果其中一个主库挂机，系统可以继续读取和写入。</p>
<h5 id="_53">不利之处： 主主复制</h5>
<ul>
<li>你需要添加负载均衡器或者在应用逻辑中做改动，来确定写入哪一个数据库。</li>
<li>多数主-主系统要么不能保证一致性（违反 ACID），要么因为同步产生了写入延迟。</li>
<li>随着更多写入节点的加入和延迟的提高，如何解决冲突显得越发重要。</li>
<li>参考[不利之处：复制#不利之处复制)中，主从复制和主主复制<strong>共同</strong>的问题。</li>
</ul>
<h5 id="_54">不利之处：复制</h5>
<ul>
<li>如果主库在将新写入的数据复制到其他节点前挂掉，则有数据丢失的可能。</li>
<li>写入会被重放到负责读取操作的副本。副本可能因为过多写操作阻塞住，导致读取功能异常。</li>
<li>读取从库越多，需要复制的写入数据就越多，导致更严重的复制延迟。</li>
<li>在某些数据库系统中，写入主库的操作可以用多个线程并行写入，但读取副本只支持单线程顺序地写入。</li>
<li>复制意味着更多的硬件和额外的复杂度。</li>
</ul>
<h5 id="_55">来源及延伸阅读</h5>
<ul>
<li>[扩展性，可用性，稳定性模式http://www.slideshare.net/jboner/scalability-availability-stability-patterns/)</li>
<li>[多主复制https://en.wikipedia.org/wiki/Multi-master_replication)</li>
</ul>
<h4 id="_56">联合</h4>
<p align="center">
  <img src="images/U3qV33e.png">
  <br/>
  <strong><a href="https://www.youtube.com/watch?v=w95murBkYmU">资料来源：扩展你的用户数到第一个一千万</a></strong>
</p>

<p>联合（或按功能划分）将数据库按对应功能分割。例如，你可以有三个数据库：<strong>论坛</strong>, <strong>用户</strong>和<strong>产品</strong>，而不仅是一个单体数据库，从而减少每个数据库的读取和写入流量，减少复制延迟。较小的数据库意味着更多适合放入内存的数据，进而意味着更高的缓存命中几率。没有只能串行写入的中心化主库，你可以并行写入，提高负载能力。</p>
<h5 id="_57">不利之处：联合</h5>
<ul>
<li>如果你的数据库模式需要大量的功能和数据表，联合的效率并不好。</li>
<li>你需要更新应用程序的逻辑来确定要读取和写入哪个数据库。</li>
<li>用 [server linkhttp://stackoverflow.com/questions/5145637/querying-data-by-joining-two-tables-in-two-database-on-different-servers) 从两个库联结数据更复杂。</li>
<li>联合需要更多的硬件和额外的复杂度。</li>
</ul>
<h5 id="_58">来源及延伸阅读：联合</h5>
<ul>
<li>[扩展你的用户数到第一个一千万https://www.youtube.com/watch?v=w95murBkYmU)</li>
</ul>
<h4 id="_59">分片</h4>
<p align="center">
  <img src="images/wU8x5Id.png">
  <br/>
  <strong><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/">资料来源：可扩展性, 可用性, 稳定性, 模式</a></strong>
</p>

<p>分片将数据分配在不同的数据库上，使得每个数据库仅管理整个数据集的一个子集。以用户数据库为例，随着用户数量的增加，越来越多的分片会被添加到集群中。</p>
<p>类似[联合#联合)的优点，分片可以减少读取和写入流量，减少复制并提高缓存命中率。也减少了索引，通常意味着查询更快，性能更好。如果一个分片出问题，其他的仍能运行，你可以使用某种形式的冗余来防止数据丢失。类似联合，没有只能串行写入的中心化主库，你可以并行写入，提高负载能力。</p>
<p>常见的做法是用户姓氏的首字母或者用户的地理位置来分隔用户表。</p>
<h5 id="_60">不利之处：分片</h5>
<ul>
<li>你需要修改应用程序的逻辑来实现分片，这会带来复杂的 SQL 查询。</li>
<li>分片不合理可能导致数据负载不均衡。例如，被频繁访问的用户数据会导致其所在分片的负载相对其他分片高。<ul>
<li>再平衡会引入额外的复杂度。基于[一致性哈希http://www.paperplanes.de/2011/12/9/the-magic-of-consistent-hashing.html)的分片算法可以减少这种情况。</li>
</ul>
</li>
<li>联结多个分片的数据操作更复杂。</li>
<li>分片需要更多的硬件和额外的复杂度。</li>
</ul>
<h4 id="_61">来源及延伸阅读：分片</h4>
<ul>
<li>[分片时代来临http://highscalability.com/blog/2009/8/6/an-unorthodox-approach-to-database-design-the-coming-of-the.html)</li>
<li>[数据库分片架构https://en.wikipedia.org/wiki/Shard_(database_architecture))</li>
<li>[一致性哈希http://www.paperplanes.de/2011/12/9/the-magic-of-consistent-hashing.html)</li>
</ul>
<h4 id="_62">非规范化</h4>
<p>非规范化试图以写入性能为代价来换取读取性能。在多个表中冗余数据副本，以避免高成本的联结操作。一些关系型数据库，比如 [PostgreSQLhttps://en.wikipedia.org/wiki/PostgreSQL) 和 Oracle 支持[物化视图https://en.wikipedia.org/wiki/Materialized_view)，可以处理冗余信息存储和保证冗余副本一致。</p>
<p>当数据使用诸如[联合#联合)和[分片#分片)等技术被分割，进一步提高了处理跨数据中心的联结操作复杂度。非规范化可以规避这种复杂的联结操作。</p>
<p>在多数系统中，读取操作的频率远高于写入操作，比例可达到 100:1，甚至 1000:1。需要复杂的数据库联结的读取操作成本非常高，在磁盘操作上消耗了大量时间。</p>
<h5 id="_63">不利之处：非规范化</h5>
<ul>
<li>数据会冗余。</li>
<li>约束可以帮助冗余的信息副本保持同步，但这样会增加数据库设计的复杂度。</li>
<li>非规范化的数据库在高写入负载下性能可能比规范化的数据库差。</li>
</ul>
<h5 id="_64">来源及延伸阅读：非规范化</h5>
<ul>
<li>[非规范化https://en.wikipedia.org/wiki/Denormalization)</li>
</ul>
<h4 id="sql">SQL 调优</h4>
<p>SQL 调优是一个范围很广的话题，有很多相关的[书https://www.amazon.com/s/ref=nb_sb_noss_2?url=search-alias%3Daps&amp;field-keywords=sql+tuning)可以作为参考。</p>
<p>利用<strong>基准测试</strong>和<strong>性能分析</strong>来模拟和发现系统瓶颈很重要。</p>
<ul>
<li>*<em>基准测试</em>- - 用 [abhttp://httpd.apache.org/docs/2.2/programs/ab.html) 等工具模拟高负载情况。</li>
<li>*<em>性能分析</em>- - 通过启用如[慢查询日志http://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html)等工具来辅助追踪性能问题。</li>
</ul>
<p>基准测试和性能分析可能会指引你到以下优化方案。</p>
<h5 id="_65">改进模式</h5>
<ul>
<li>为了实现快速访问，MySQL 在磁盘上用连续的块存储数据。</li>
<li>使用 <code>CHAR</code> 类型存储固定长度的字段，不要用 <code>VARCHAR</code>。<ul>
<li><code>CHAR</code> 在快速, 随机访问时效率很高。如果使用 <code>VARCHAR</code>，如果你想读取下一个字符串，不得不先读取到当前字符串的末尾。</li>
</ul>
</li>
<li>使用 <code>TEXT</code> 类型存储大块的文本，例如博客正文。<code>TEXT</code> 还允许布尔搜索。使用 <code>TEXT</code> 字段需要在磁盘上存储一个用于定位文本块的指针。</li>
<li>使用 <code>INT</code> 类型存储高达 2^32 或 40 亿的较大数字。</li>
<li>使用 <code>DECIMAL</code> 类型存储货币可以避免浮点数表示错误。</li>
<li>避免使用 <code>BLOBS</code> 存储实际对象，而是用来存储存放对象的位置。</li>
<li><code>VARCHAR(255)</code> 是以 8 位数字存储的最大字符数，在某些关系型数据库中，最大限度地利用字节。</li>
<li>在适用场景中设置 <code>NOT NULL</code> 约束来[提高搜索性能http://stackoverflow.com/questions/1017239/how-do-null-values-affect-performance-in-a-database-search)。</li>
</ul>
<h5 id="_66">使用正确的索引</h5>
<ul>
<li>你正查询（<code>SELECT</code>, <code>GROUP BY</code>, <code>ORDER BY</code>, <code>JOIN</code>）的列如果用了索引会更快。</li>
<li>索引通常表示为自平衡的 [B 树https://en.wikipedia.org/wiki/B-tree)，可以保持数据有序，并允许在对数时间内进行搜索，顺序访问，插入，删除操作。</li>
<li>设置索引，会将数据存在内存中，占用了更多内存空间。</li>
<li>写入操作会变慢，因为索引需要被更新。</li>
<li>加载大量数据时，禁用索引再加载数据，然后重建索引，这样也许会更快。</li>
</ul>
<h5 id="_67">避免高成本的联结操作</h5>
<ul>
<li>有性能需要，可以进行非规范化。</li>
</ul>
<h5 id="_68">分割数据表</h5>
<ul>
<li>将热点数据拆分到单独的数据表中，可以有助于缓存。</li>
</ul>
<h5 id="_69">调优查询缓存</h5>
<ul>
<li>在某些情况下，[查询缓存http://dev.mysql.com/doc/refman/5.7/en/query-cache)可能会导致[性能问题https://www.percona.com/blog/2014/01/28/10-mysql-performance-tuning-settings-after-installation/)。</li>
</ul>
<h5 id="_70">来源及延伸阅读</h5>
<ul>
<li>[MySQL 查询优化小贴士http://20bits.com/article/10-tips-for-optimizing-mysql-queries-that-dont-suck)</li>
<li>[为什么 VARCHAR(255) 很常见？http://stackoverflow.com/questions/1217466/is-there-a-good-reason-i-see-varchar255-used-so-often-as-opposed-to-another-l)</li>
<li>[Null 值是如何影响数据库性能的？http://stackoverflow.com/questions/1017239/how-do-null-values-affect-performance-in-a-database-search)</li>
<li>[慢查询日志http://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html)</li>
</ul>
<h3 id="nosql">NoSQL</h3>
<p>NoSQL 是<strong>键-值数据库</strong>, <strong>文档型数据库</strong>, <strong>列型数据库</strong>或<strong>图数据库</strong>的统称。数据库是非规范化的，表联结大多在应用程序代码中完成。大多数 NoSQL 无法实现真正符合 ACID 的事务，支持[最终一致#最终一致性)。</p>
<p>*<em>BASE</em>- 通常被用于描述 NoSQL 数据库的特性。相比 [CAP 理论#cap-理论)，BASE 强调可用性超过一致性。</p>
<ul>
<li>*<em>基本可用</em>- - 系统保证可用性。</li>
<li>*<em>软状态</em>- - 即使没有输入，系统状态也可能随着时间变化。</li>
<li>*<em>最终一致性</em>- - 经过一段时间之后，系统最终会变一致，因为系统在此期间没有收到任何输入。</li>
</ul>
<p>除了在 [SQL 还是 NoSQL#sql-还是-nosql) 之间做选择，了解哪种类型的 NoSQL 数据库最适合你的用例也是非常有帮助的。我们将在下一节中快速了解下 <strong>键-值存储</strong>, <strong>文档型存储</strong>, <strong>列型存储</strong>和<strong>图存储</strong>数据库。</p>
<h4 id="-">键-值存储</h4>
<blockquote>
<p>抽象模型：哈希表</p>
</blockquote>
<p>键-值存储通常可以实现 O(1) 时间读写，用内存或 SSD 存储数据。数据存储可以按[字典顺序https://en.wikipedia.org/wiki/Lexicographical_order)维护键，从而实现键的高效检索。键-值存储可以用于存储元数据。</p>
<p>键-值存储性能很高，通常用于存储简单数据模型或频繁修改的数据，如存放在内存中的缓存。键-值存储提供的操作有限，如果需要更多操作，复杂度将转嫁到应用程序层面。</p>
<p>键-值存储是如文档存储，在某些情况下，甚至是图存储等更复杂的存储系统的基础。</p>
<h4 id="_71">来源及延伸阅读</h4>
<ul>
<li>[键-值数据库https://en.wikipedia.org/wiki/Key-value_database)</li>
<li>[键-值存储的劣势http://stackoverflow.com/questions/4056093/what-are-the-disadvantages-of-using-a-key-value-table-over-nullable-columns-or)</li>
<li>[Redis 架构http://qnimate.com/overview-of-redis-architecture/)</li>
<li>[Memcached 架构https://adayinthelifeof.nl/2011/02/06/memcache-internals/)</li>
</ul>
<h4 id="_72">文档类型存储</h4>
<blockquote>
<p>抽象模型：将文档作为值的键-值存储</p>
</blockquote>
<p>文档类型存储以文档（XML, JSON, 二进制文件等）为中心，文档存储了指定对象的全部信息。文档存储根据文档自身的内部结构提供 API 或查询语句来实现查询。请注意，许多键-值存储数据库有用值存储元数据的特性，这也模糊了这两种存储类型的界限。</p>
<p>基于底层实现，文档可以根据集合, 标签, 元数据或者文件夹组织。尽管不同文档可以被组织在一起或者分成一组，但相互之间可能具有完全不同的字段。</p>
<p>MongoDB 和 CouchDB 等一些文档类型存储还提供了类似 SQL 语言的查询语句来实现复杂查询。DynamoDB 同时支持键-值存储和文档类型存储。</p>
<p>文档类型存储具备高度的灵活性，常用于处理偶尔变化的数据。</p>
<h4 id="_73">来源及延伸阅读：文档类型存储</h4>
<ul>
<li>[面向文档的数据库https://en.wikipedia.org/wiki/Document-oriented_database)</li>
<li>[MongoDB 架构https://www.mongodb.com/mongodb-architecture)</li>
<li>[CouchDB 架构https://blog.couchdb.org/2016/08/01/couchdb-2-0-architecture/)</li>
<li>[Elasticsearch 架构https://www.elastic.co/blog/found-elasticsearch-from-the-bottom-up)</li>
</ul>
<h4 id="_74">列型存储</h4>
<p align="center">
  <img src="images/n16iOGk.png">
  <br/>
  <strong><a href="http://blog.grio.com/2015/11/sql-nosql-a-brief-history.html">资料来源: SQL 和 NoSQL，一个简短的历史</a></strong>
</p>

<blockquote>
<p>抽象模型：嵌套的 <code>ColumnFamily&lt;RowKey, Columns&lt;ColKey, Value, Timestamp&gt;&gt;</code> 映射</p>
</blockquote>
<p>类型存储的基本数据单元是列（名／值对）。列可以在列族（类似于 SQL 的数据表）中被分组。超级列族再分组普通列族。你可以使用行键独立访问每一列，具有相同行键值的列组成一行。每个值都包含版本的时间戳用于解决版本冲突。</p>
<p>Google 发布了第一个列型存储数据库 [Bigtablehttp://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf)，它影响了 Hadoop 生态系统中活跃的开源数据库 [HBasehttps://www.mapr.com/blog/in-depth-look-hbase-architecture) 和 Facebook 的 [Cassandrahttp://docs.datastax.com/en/archived/cassandra/2.0/cassandra/architecture/architectureIntro_c.html)。像 BigTable，HBase 和 Cassandra 这样的存储系统将键以字母顺序存储，可以高效地读取键列。</p>
<p>列型存储具备高可用性和高可扩展性。通常被用于大数据相关存储。</p>
<h5 id="_75">来源及延伸阅读：列型存储</h5>
<ul>
<li>[SQL 与 NoSQL 简史http://blog.grio.com/2015/11/sql-nosql-a-brief-history.html)</li>
<li>[BigTable 架构http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf)</li>
<li>[Hbase 架构https://www.mapr.com/blog/in-depth-look-hbase-architecture)</li>
<li>[Cassandra 架构http://docs.datastax.com/en/archived/cassandra/2.0/cassandra/architecture/architectureIntro_c.html)</li>
</ul>
<h4 id="_76">图数据库</h4>
<p align="center">
  <img src="images/fNcl65g.png">
  <br/>
  <strong><a href="https://en.wikipedia.org/wiki/File:GraphDatabase_PropertyGraph.png"/>资料来源：图数据库</a></strong>
</p>

<blockquote>
<p>抽象模型： 图</p>
</blockquote>
<p>在图数据库中，一个节点对应一条记录，一个弧对应两个节点之间的关系。图数据库被优化用于表示外键繁多的复杂关系或多对多关系。</p>
<p>图数据库为存储复杂关系的数据模型，如社交网络，提供了很高的性能。它们相对较新，尚未广泛应用，查找开发工具或者资源相对较难。许多图只能通过 [REST API#表述性状态转移rest) 访问。</p>
<h5 id="_77">相关资源和延伸阅读：图</h5>
<ul>
<li>[图数据库https://en.wikipedia.org/wiki/Graph_database)</li>
<li>[Neo4jhttps://neo4j.com/)</li>
<li>[FlockDBhttps://blog.twitter.com/2010/introducing-flockdb)</li>
</ul>
<h4 id="nosql_1">来源及延伸阅读：NoSQL</h4>
<ul>
<li>[数据库术语解释http://stackoverflow.com/questions/3342497/explanation-of-base-terminology)</li>
<li>[NoSQL 数据库 - 调查及决策指南https://medium.com/baqend-blog/nosql-databases-a-survey-and-decision-guidance-ea7823a822d#.wskogqenq)</li>
<li>[可扩展性https://web.archive.org/web/20220602114024/https://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database)</li>
<li>[NoSQL 介绍https://www.youtube.com/watch?v=qI_g07C_Q5I)</li>
<li>[NoSQL 模式http://horicky.blogspot.com/2009/11/nosql-patterns.html)</li>
</ul>
<h3 id="sql-nosql">SQL 还是 NoSQL</h3>
<p align="center">
  <img src="images/wXGqG5f.png">
  <br/>
  <strong><a href="https://www.infoq.com/articles/Transition-RDBMS-NoSQL/">资料来源：从 RDBMS 转换到 NoSQL</a></strong>
</p>

<p>选取 *<em>SQL</em>- 的原因:</p>
<ul>
<li>结构化数据</li>
<li>严格的模式</li>
<li>关系型数据</li>
<li>需要复杂的联结操作</li>
<li>事务</li>
<li>清晰的扩展模式</li>
<li>既有资源更丰富：开发者, 社区, 代码库, 工具等</li>
<li>通过索引进行查询非常快</li>
</ul>
<p>选取 *<em>NoSQL</em>- 的原因：</p>
<ul>
<li>半结构化数据</li>
<li>动态或灵活的模式</li>
<li>非关系型数据</li>
<li>不需要复杂的联结操作</li>
<li>存储 TB （甚至 PB）级别的数据</li>
<li>高数据密集的工作负载</li>
<li>IOPS 高吞吐量</li>
</ul>
<p>适合 NoSQL 的示例数据：</p>
<ul>
<li>埋点数据和日志数据</li>
<li>排行榜或者得分数据</li>
<li>临时数据，如购物车</li>
<li>频繁访问的（“热”）表</li>
<li>元数据／查找表</li>
</ul>
<h5 id="sql-nosql_1">来源及延伸阅读：SQL 或 NoSQL</h5>
<ul>
<li>[扩展你的用户数到第一个千万https://www.youtube.com/watch?v=w95murBkYmU)</li>
<li>[SQL 和 NoSQL 的不同https://www.sitepoint.com/sql-vs-nosql-differences/)</li>
</ul>
<h2 id="_78">缓存</h2>
<p align="center">
  <img src="images/Q6z24La.png">
  <br/>
  <strong><a href="http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html">资料来源：可扩展的系统设计模式</a></strong>
</p>

<p>缓存可以提高页面加载速度，并可以减少服务器和数据库的负载。在这个模型中，分发器先查看请求之前是否被响应过，如果有则将之前的结果直接返回，来省掉真正的处理。</p>
<p>数据库分片均匀分布的读取是最好的。但是热门数据会让读取分布不均匀，这样就会造成瓶颈，如果在数据库前加个缓存，就会抹平不均匀的负载和突发流量对数据库的影响。</p>
<h3 id="_79">客户端缓存</h3>
<p>缓存可以位于客户端（操作系统或者浏览器），[服务端#反向代理web-服务器)或者不同的缓存层。</p>
<h3 id="cdn_2">CDN 缓存</h3>
<p>[CDN#内容分发网络cdn) 也被视为一种缓存。</p>
<h3 id="web_1">Web 服务器缓存</h3>
<p>[反向代理#反向代理web-服务器)和缓存（比如 [Varnishhttps://www.varnish-cache.org/)）可以直接提供静态和动态内容。Web 服务器同样也可以缓存请求，返回相应结果而不必连接应用服务器。</p>
<h3 id="_80">数据库缓存</h3>
<p>数据库的默认配置中通常包含缓存级别，针对一般用例进行了优化。调整配置，在不同情况下使用不同的模式可以进一步提高性能。</p>
<h3 id="_81">应用缓存</h3>
<p>基于内存的缓存比如 Memcached 和 Redis 是应用程序和数据存储之间的一种键值存储。由于数据保存在 RAM 中，它比存储在磁盘上的典型数据库要快多了。RAM 比磁盘限制更多，所以例如 [least recently used (LRU)https://en.wikipedia.org/wiki/Cache_algorithms#Least_Recently_Used) 的[缓存无效算法https://en.wikipedia.org/wiki/Cache_algorithms)可以将「热门数据」放在 RAM 中，而对一些比较「冷门」的数据不做处理。</p>
<p>Redis 有下列附加功能：</p>
<ul>
<li>持久性选项</li>
<li>内置数据结构比如有序集合和列表</li>
</ul>
<p>有多个缓存级别，分为两大类：<strong>数据库查询</strong>和<strong>对象</strong>：</p>
<ul>
<li>行级别</li>
<li>查询级别</li>
<li>完整的可序列化对象</li>
<li>完全渲染的 HTML</li>
</ul>
<p>一般来说，你应该尽量避免基于文件的缓存，因为这使得复制和自动缩放很困难。</p>
<h3 id="_82">数据库查询级别的缓存</h3>
<p>当你查询数据库的时候，将查询语句的哈希值与查询结果存储到缓存中。这种方法会遇到以下问题：</p>
<ul>
<li>很难用复杂的查询删除已缓存结果。</li>
<li>如果一条数据比如表中某条数据的一项被改变，则需要删除所有可能包含已更改项的缓存结果。</li>
</ul>
<h3 id="_83">对象级别的缓存</h3>
<p>将您的数据视为对象，就像对待你的应用代码一样。让应用程序将数据从数据库中组合到类实例或数据结构中：</p>
<ul>
<li>如果对象的基础数据已经更改了，那么从缓存中删掉这个对象。</li>
<li>允许异步处理：workers 通过使用最新的缓存对象来组装对象。</li>
</ul>
<p>建议缓存的内容：</p>
<ul>
<li>用户会话</li>
<li>完全渲染的 Web 页面</li>
<li>活动流</li>
<li>用户图数据</li>
</ul>
<h3 id="_84">何时更新缓存</h3>
<p>由于你只能在缓存中存储有限的数据，所以你需要选择一个适用于你用例的缓存更新策略。</p>
<h4 id="_85">缓存模式</h4>
<p align="center">
  <img src="images/ONjORqk.png">
  <br/>
  <strong><a href="http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast">资料来源：从缓存到内存数据网格</a></strong>
</p>

<p>应用从存储器读写。缓存不和存储器直接交互，应用执行以下操作：</p>
<ul>
<li>在缓存中查找记录，如果所需数据不在缓存中</li>
<li>从数据库中加载所需内容</li>
<li>将查找到的结果存储到缓存中</li>
<li>返回所需内容</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">user</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user.</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">user_id</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="n">user</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;SELECT - FROM users WHERE user_id = </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">user_id</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>            <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;user.</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>            <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">user</span><span class="p">))</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="k">return</span> <span class="n">user</span>
</code></pre></div>
<p>[Memcachedhttps://memcached.org/) 通常用这种方式使用。</p>
<p>添加到缓存中的数据读取速度很快。缓存模式也称为延迟加载。只缓存所请求的数据，这避免了没有被请求的数据占满了缓存空间。</p>
<h5 id="_86">缓存的缺点</h5>
<ul>
<li>请求的数据如果不在缓存中就需要经过三个步骤来获取数据，这会导致明显的延迟。</li>
<li>如果数据库中的数据更新了会导致缓存中的数据过时。这个问题需要通过设置 TTL 强制更新缓存或者直写模式来缓解这种情况。</li>
<li>当一个节点出现故障的时候，它将会被一个新的节点替代，这增加了延迟的时间。</li>
</ul>
<h4 id="_87">直写模式</h4>
<p align="center">
  <img src="images/0vBc0hN.png">
  <br/>
  <strong><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/">资料来源：可扩展性, 可用性, 稳定性, 模式</a></strong>
</p>

<p>应用使用缓存作为主要的数据存储，将数据读写到缓存中，而缓存负责从数据库中读写数据。</p>
<ul>
<li>应用向缓存中添加/更新数据</li>
<li>缓存同步地写入数据存储</li>
<li>返回所需内容</li>
</ul>
<p>应用代码：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>set_user(12345, {&quot;foo&quot;:&quot;bar&quot;})
</code></pre></div>
<p>缓存代码：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">set_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="n">user</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;UPDATE Users WHERE id = </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
</code></pre></div>
<p>由于存写操作所以直写模式整体是一种很慢的操作，但是读取刚写入的数据很快。相比读取数据，用户通常比较能接受更新数据时速度较慢。缓存中的数据不会过时。</p>
<h5 id="_88">直写模式的缺点</h5>
<ul>
<li>由于故障或者缩放而创建的新的节点，新的节点不会缓存，直到数据库更新为止。缓存应用直写模式可以缓解这个问题。</li>
<li>写入的大多数数据可能永远都不会被读取，用 TTL 可以最小化这种情况的出现。</li>
</ul>
<h4 id="_89">回写模式</h4>
<p align="center">
  <img src="images/rgSrvjG.png">
  <br/>
  <strong><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/">资料来源：可扩展性, 可用性, 稳定性, 模式</a></strong>
</p>

<p>在回写模式中，应用执行以下操作：</p>
<ul>
<li>在缓存中增加或者更新条目</li>
<li>异步写入数据，提高写入性能。</li>
</ul>
<h5 id="_90">回写模式的缺点</h5>
<ul>
<li>缓存可能在其内容成功存储之前丢失数据。</li>
<li>执行直写模式比缓存或者回写模式更复杂。</li>
</ul>
<h4 id="_91">刷新</h4>
<p align="center">
  <img src="images/kxtjqgE.png">
  <br/>
  <strong><a href=http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast>资料来源：从缓存到内存数据网格</a></strong>
</p>

<p>你可以将缓存配置成在到期之前自动刷新最近访问过的内容。</p>
<p>如果缓存可以准确预测将来可能请求哪些数据，那么刷新可能会导致延迟与读取时间的降低。</p>
<h5 id="_92">刷新的缺点</h5>
<ul>
<li>不能准确预测到未来需要用到的数据可能会导致性能不如不使用刷新。</li>
</ul>
<h3 id="_93">缓存的缺点</h3>
<ul>
<li>需要保持缓存和真实数据源之间的一致性，比如数据库根据[缓存无效https://en.wikipedia.org/wiki/Cache_algorithms)。</li>
<li>需要改变应用程序比如增加 Redis 或者 memcached。</li>
<li>无效缓存是个难题，什么时候更新缓存是与之相关的复杂问题。</li>
</ul>
<h3 id="_94">相关资源和延伸阅读</h3>
<ul>
<li>[从缓存到内存数据http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast)</li>
<li>[可扩展系统设计模式http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html)</li>
<li>[可缩放系统构架介绍http://lethain.com/introduction-to-architecting-systems-for-scale/)</li>
<li>[可扩展性，可用性，稳定性和模式http://www.slideshare.net/jboner/scalability-availability-stability-patterns/)</li>
<li>[可扩展性https://web.archive.org/web/20230126233752/https://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache)</li>
<li>[AWS ElastiCache 策略http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/Strategies.html)</li>
<li>[维基百科https://en.wikipedia.org/wiki/Cache_(computing))</li>
</ul>
<h2 id="_95">异步</h2>
<p align="center">
  <img src="images/54GYsSx.png">
  <br/>
  <strong><a href=http://lethain.com/introduction-to-architecting-systems-for-scale/#platform_layer>资料来源：可缩放系统构架介绍</a></strong>
</p>

<p>异步工作流有助于减少那些原本顺序执行的请求时间。它们可以通过提前进行一些耗时的工作来帮助减少请求时间，比如定期汇总数据。</p>
<h3 id="_96">消息队列</h3>
<p>消息队列接收，保留和传递消息。如果按顺序执行操作太慢的话，你可以使用有以下工作流的消息队列：</p>
<ul>
<li>应用程序将作业发布到队列，然后通知用户作业状态</li>
<li>一个 worker 从队列中取出该作业，对其进行处理，然后显示该作业完成</li>
</ul>
<p>不去阻塞用户操作，作业在后台处理。在此期间，客户端可能会进行一些处理使得看上去像是任务已经完成了。例如，如果要发送一条推文，推文可能会马上出现在你的时间线上，但是可能需要一些时间才能将你的推文推送到你的所有关注者那里去。</p>
<p>*<em>Redis</em>- 是一个令人满意的简单的消息代理，但是消息有可能会丢失。</p>
<p>*<em>RabbitMQ</em>- 很受欢迎但是要求你适应「AMQP」协议并且管理你自己的节点。</p>
<p>*<em>Amazon SQS</em>- 是被托管的，但可能具有高延迟，并且消息可能会被传送两次。</p>
<h3 id="_97">任务队列</h3>
<p>任务队列接收任务及其相关数据，运行它们，然后传递其结果。 它们可以支持调度，并可用于在后台运行计算密集型作业。</p>
<p>*<em>Celery</em>- 支持调度，主要是用 Python 开发的。</p>
<h3 id="_98">背压</h3>
<p>如果队列开始明显增长，那么队列大小可能会超过内存大小，导致高速缓存未命中，磁盘读取，甚至性能更慢。[背压http://mechanical-sympathy.blogspot.com/2012/05/apply-back-pressure-when-overloaded.html)可以通过限制队列大小来帮助我们，从而为队列中的作业保持高吞吐率和良好的响应时间。一旦队列填满，客户端将得到服务器忙或者 HTTP 503 状态码，以便稍后重试。客户端可以在稍后时间重试该请求，也许是[指数退避https://en.wikipedia.org/wiki/Exponential_backoff)。</p>
<h3 id="_99">异步的缺点</h3>
<ul>
<li>简单的计算和实时工作流等用例可能更适用于同步操作，因为引入队列可能会增加延迟和复杂性。</li>
</ul>
<h3 id="_100">相关资源和延伸阅读</h3>
<ul>
<li>[这是一个数字游戏https://www.youtube.com/watch?v=1KRYH75wgy4)</li>
<li>[超载时应用背压http://mechanical-sympathy.blogspot.com/2012/05/apply-back-pressure-when-overloaded.html)</li>
<li>[利特尔法则https://en.wikipedia.org/wiki/Little%27s_law)</li>
<li>[消息队列与任务队列有什么区别？https://www.quora.com/What-is-the-difference-between-a-message-queue-and-a-task-queue-Why-would-a-task-queue-require-a-message-broker-like-RabbitMQ-Redis-Celery-or-IronMQ-to-function)</li>
</ul>
<h2 id="_101">通讯</h2>
<p align="center">
  <img src="images/5KeocQs.jpg">
  <br/>
  <strong><a href=http://www.escotal.com/osilayer.html>资料来源：OSI 7层模型</a></strong>
</p>

<h3 id="http">超文本传输协议（HTTP）</h3>
<p>HTTP 是一种在客户端和服务器之间编码和传输数据的方法。它是一个请求/响应协议：客户端和服务端针对相关内容和完成状态信息的请求和响应。HTTP 是独立的，允许请求和响应流经许多执行负载均衡，缓存，加密和压缩的中间路由器和服务器。</p>
<p>一个基本的 HTTP 请求由一个动词（方法）和一个资源（端点）组成。 以下是常见的 HTTP 动词：</p>
<table>
<thead>
<tr>
<th>动词</th>
<th>描述</th>
<th>*幂等</th>
<th>安全性</th>
<th>可缓存</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>读取资源</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>POST</td>
<td>创建资源或触发处理数据的进程</td>
<td>No</td>
<td>No</td>
<td>Yes，如果回应包含刷新信息</td>
</tr>
<tr>
<td>PUT</td>
<td>创建或替换资源</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>PATCH</td>
<td>部分更新资源</td>
<td>No</td>
<td>No</td>
<td>Yes，如果回应包含刷新信息</td>
</tr>
<tr>
<td>DELETE</td>
<td>删除资源</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
</tbody>
</table>
<p><strong>多次执行不会产生不同的结果</strong>。</p>
<p>HTTP 是依赖于较低级协议（如 <strong>TCP*- 和 </strong>UDP**）的应用层协议。</p>
<h4 id="http_1">来源及延伸阅读：HTTP</h4>
<ul>
<li>[READMEhttps://www.quora.com/What-is-the-difference-between-HTTP-protocol-and-TCP-protocol)    +</li>
<li>[HTTP 是什么？https://www.nginx.com/resources/glossary/http/)</li>
<li>[HTTP 和 TCP 的区别https://www.quora.com/What-is-the-difference-between-HTTP-protocol-and-TCP-protocol)</li>
<li>[PUT 和 PATCH的区别https://laracasts.com/discuss/channels/general-discussion/whats-the-differences-between-put-and-patch?page=1)</li>
</ul>
<h3 id="tcp">传输控制协议（TCP）</h3>
<p align="center">
  <img src="images/JdAsdvG.jpg">
  <br/>
  <strong><a href="http://www.wildbunny.co.uk/blog/2012/10/09/how-to-make-a-multi-player-game-part-1/">资料来源：如何制作多人游戏</a></strong>
</p>

<p>TCP 是通过 [IP 网络https://en.wikipedia.org/wiki/Internet_Protocol)的面向连接的协议。 使用[握手https://en.wikipedia.org/wiki/Handshaking)建立和断开连接。 发送的所有数据包保证以原始顺序到达目的地，用以下措施保证数据包不被损坏：</p>
<ul>
<li>每个数据包的序列号和[校验码https://en.wikipedia.org/wiki/Transmission_Control_Protocol#Checksum_computation)。</li>
<li>[确认包https://en.wikipedia.org/wiki/Acknowledgement_(data_networks))和自动重传</li>
</ul>
<p>如果发送者没有收到正确的响应，它将重新发送数据包。如果多次超时，连接就会断开。TCP 实行[流量控制https://en.wikipedia.org/wiki/Flow_control_(data))和[拥塞控制https://en.wikipedia.org/wiki/Network_congestion#Congestion_control)。这些确保措施会导致延迟，而且通常导致传输效率比 UDP 低。</p>
<p>为了确保高吞吐量，Web 服务器可以保持大量的 TCP 连接，从而导致高内存使用。在 Web 服务器线程间拥有大量开放连接可能开销巨大，消耗资源过多，也就是说，一个 [memcached#memcached) 服务器。[连接池https://en.wikipedia.org/wiki/Connection_pool) 可以帮助除了在适用的情况下切换到 UDP。</p>
<p>TCP  对于需要高可靠性但时间紧迫的应用程序很有用。比如包括 Web 服务器，数据库信息，SMTP，FTP 和 SSH。</p>
<p>以下情况使用 TCP 代替 UDP：</p>
<ul>
<li>你需要数据完好无损。</li>
<li>你想对网络吞吐量自动进行最佳评估。</li>
</ul>
<h3 id="udp">用户数据报协议（UDP）</h3>
<p align="center">
  <img src="images/yzDrJtA.jpg">
  <br/>
  <strong><a href="http://www.wildbunny.co.uk/blog/2012/10/09/how-to-make-a-multi-player-game-part-1">资料来源：如何制作多人游戏</a></strong>
</p>

<p>UDP 是无连接的。数据报（类似于数据包）只在数据报级别有保证。数据报可能会无序的到达目的地，也有可能会遗失。UDP 不支持拥塞控制。虽然不如 TCP 那样有保证，但 UDP 通常效率更高。</p>
<p>UDP 可以通过广播将数据报发送至子网内的所有设备。这对 [DHCPhttps://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol) 很有用，因为子网内的设备还没有分配 IP 地址，而 IP 对于 TCP 是必须的。</p>
<p>UDP 可靠性更低但适合用在网络电话, 视频聊天，流媒体和实时多人游戏上。</p>
<p>以下情况使用 UDP 代替 TCP：</p>
<ul>
<li>你需要低延迟</li>
<li>相对于数据丢失更糟的是数据延迟</li>
<li>你想实现自己的错误校正方法</li>
</ul>
<h4 id="tcp-udp">来源及延伸阅读：TCP 与 UDP</h4>
<ul>
<li>[游戏编程的网络http://gafferongames.com/networking-for-game-programmers/udp-vs-tcp/)</li>
<li>[TCP 与 UDP 的关键区别http://www.cyberciti.biz/faq/key-differences-between-tcp-and-udp-protocols/)</li>
<li>[TCP 与 UDP 的不同http://stackoverflow.com/questions/5970383/difference-between-tcp-and-udp)</li>
<li>[传输控制协议https://en.wikipedia.org/wiki/Transmission_Control_Protocol)</li>
<li>[用户数据报协议https://en.wikipedia.org/wiki/User_Datagram_Protocol)</li>
<li>[Memcache 在 Facebook 的扩展http://www.cs.bu.edu/~jappavoo/jappavoo.github.com/451/papers/memcache-fb.pdf)</li>
</ul>
<h3 id="rpc">远程过程调用协议（RPC）</h3>
<p align="center">
  <img src="images/iF4Mkb5.png">
  <br/>
  <strong><a href="http://www.puncsky.com/blog/2016/02/14/crack-the-system-design-interview">Source: Crack the system design interview</a></strong>
</p>

<p>在 RPC 中，客户端会去调用另一个地址空间（通常是一个远程服务器）里的方法。调用代码看起来就像是调用的是一个本地方法，客户端和服务器交互的具体过程被抽象。远程调用相对于本地调用一般较慢而且可靠性更差，因此区分两者是有帮助的。热门的 RPC 框架包括 [Protobufhttps://developers.google.com/protocol-buffers/), [Thrifthttps://thrift.apache.org/) 和 [Avrohttps://avro.apache.org/docs/current/)。</p>
<p>RPC 是一个“请求-响应”协议：</p>
<ul>
<li>*<em>客户端程序</em>- ── 调用客户端存根程序。就像调用本地方法一样，参数会被压入栈中。</li>
<li>*<em>客户端 stub 程序</em>- ── 将请求过程的 id 和参数打包进请求信息中。</li>
<li>*<em>客户端通信模块</em>- ── 将信息从客户端发送至服务端。</li>
<li>*<em>服务端通信模块</em>- ── 将接受的包传给服务端存根程序。</li>
<li>*<em>服务端 stub 程序</em>- ── 将结果解包，依据过程 id 调用服务端方法并将参数传递过去。</li>
</ul>
<p>RPC 调用示例：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>GET /someoperation?data=anId
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>POST /anotheroperation
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>{
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>  &quot;data&quot;:&quot;anId&quot;;
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>  &quot;anotherdata&quot;: &quot;another value&quot;
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>}
</code></pre></div>
<p>RPC 专注于暴露方法。RPC 通常用于处理内部通讯的性能问题，这样你可以手动处理本地调用以更好的适应你的情况。</p>
<p>当以下情况时选择本地库（也就是 SDK）：</p>
<ul>
<li>你知道你的目标平台。</li>
<li>你想控制如何访问你的“逻辑”。</li>
<li>你想对发生在你的库中的错误进行控制。</li>
<li>性能和终端用户体验是你最关心的事。</li>
</ul>
<p>遵循 *<em>REST</em>- 的 HTTP API 往往更适用于公共 API。</p>
<h4 id="rpc_1">缺点：RPC</h4>
<ul>
<li>RPC 客户端与服务实现捆绑地很紧密。</li>
<li>一个新的 API 必须在每一个操作或者用例中定义。</li>
<li>RPC 很难调试。</li>
<li>你可能没办法很方便的去修改现有的技术。举个例子，如果你希望在 [Squidhttp://www.squid-cache.org/) 这样的缓存服务器上确保 [RPC 被正确缓存https://web.archive.org/web/20170608193645/http://etherealbits.com/2012/12/debunking-the-myths-of-rpc-rest/)的话可能需要一些额外的努力了。</li>
</ul>
<h3 id="rest">表述性状态转移（REST）</h3>
<p>REST 是一种强制的客户端/服务端架构设计模型，客户端基于服务端管理的一系列资源操作。服务端提供修改或获取资源的接口。所有的通信必须是无状态和可缓存的。</p>
<p>RESTful 接口有四条规则：</p>
<ul>
<li>*<em>标志资源（HTTP 里的 URI）</em>- ── 无论什么操作都使用同一个 URI。</li>
<li>*<em>表示的改变（HTTP 的动作）</em>- ── 使用动作, headers 和 body。</li>
<li>*<em>可自我描述的错误信息（HTTP 中的 status code）</em>- ── 使用状态码，不要重新造轮子。</li>
<li>*<em>[HATEOAShttp://restcookbook.com/Basics/hateoas/)（HTTP 中的HTML 接口）</em>- ── 你的 web 服务器应该能够通过浏览器访问。</li>
</ul>
<p>REST 请求的例子：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>GET /someresources/anId
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>PUT /someresources/anId
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>{&quot;anotherdata&quot;: &quot;another value&quot;}
</code></pre></div>
<p>REST 关注于暴露数据。它减少了客户端／服务端的耦合程度，经常用于公共 HTTP API 接口设计。REST 使用更通常与规范化的方法来通过 URI 暴露资源，[通过 header 来表述https://github.com/for-GET/know-your-http-well/blob/master/headers.md)并通过 GET, POST, PUT, DELETE 和 PATCH 这些动作来进行操作。因为无状态的特性，REST 易于横向扩展和隔离。</p>
<h4 id="rest_1">缺点：REST</h4>
<ul>
<li>由于 REST 将重点放在暴露数据，所以当资源不是自然组织的或者结构复杂的时候它可能无法很好的适应。举个例子，返回过去一小时中与特定事件集匹配的更新记录这种操作就很难表示为路径。使用 REST，可能会使用 URI 路径，查询参数和可能的请求体来实现。</li>
<li>REST 一般依赖几个动作（GET, POST, PUT, DELETE 和 PATCH），但有时候仅仅这些没法满足你的需要。举个例子，将过期的文档移动到归档文件夹里去，这样的操作可能没法简单的用上面这几个 verbs 表达。</li>
<li>为了渲染单个页面，获取被嵌套在层级结构中的复杂资源需要客户端，服务器之间多次往返通信。例如，获取博客内容及其关联评论。对于使用不确定网络环境的移动应用来说，这些多次往返通信是非常麻烦的。</li>
<li>随着时间的推移，更多的字段可能会被添加到 API 响应中，较旧的客户端将会接收到所有新的数据字段，即使是那些它们不需要的字段，结果它会增加负载大小并引起更大的延迟。</li>
</ul>
<h3 id="rpc-rest">RPC 与 REST 比较</h3>
<table>
<thead>
<tr>
<th>操作</th>
<th>RPC</th>
<th>REST</th>
</tr>
</thead>
<tbody>
<tr>
<td>注册</td>
<td>*<em>POST</em>- /signup</td>
<td>*<em>POST</em>- /persons</td>
</tr>
<tr>
<td>注销</td>
<td>*<em>POST</em>- /resign<br/>{<br/>"personid": "1234"<br/>}</td>
<td>*<em>DELETE</em>- /persons/1234</td>
</tr>
<tr>
<td>读取用户信息</td>
<td>*<em>GET</em>- /readPerson?personid=1234</td>
<td>*<em>GET</em>- /persons/1234</td>
</tr>
<tr>
<td>读取用户物品列表</td>
<td>*<em>GET</em>- /readUsersItemsList?personid=1234</td>
<td>*<em>GET</em>- /persons/1234/items</td>
</tr>
<tr>
<td>向用户物品列表添加一项</td>
<td>*<em>POST</em>- /addItemToUsersItemsList<br/>{<br/>"personid": "1234";<br/>"itemid": "456"<br/>}</td>
<td>*<em>POST</em>- /persons/1234/items<br/>{<br/>"itemid": "456"<br/>}</td>
</tr>
<tr>
<td>更新一个物品</td>
<td>*<em>POST</em>- /modifyItem<br/>{<br/>"itemid": "456";<br/>"key": "value"<br/>}</td>
<td>*<em>PUT</em>- /items/456<br/>{<br/>"key": "value"<br/>}</td>
</tr>
<tr>
<td>删除一个物品</td>
<td>*<em>POST</em>- /removeItem<br/>{<br/>"itemid": "456"<br/>}</td>
<td>*<em>DELETE</em>- /items/456</td>
</tr>
</tbody>
</table>
<p align="center">
  <strong><a href="https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc">资料来源：你真的知道你为什么更喜欢 REST 而不是 RPC 吗</a></strong>
</p>

<h4 id="rest-rpc">来源及延伸阅读：REST 与 RPC</h4>
<ul>
<li>[你真的知道你为什么更喜欢 REST 而不是 RPC 吗https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/)</li>
<li>[什么时候 RPC 比 REST 更合适？http://programmers.stackexchange.com/a/181186)</li>
<li>[REST vs JSON-RPChttp://stackoverflow.com/questions/15056878/rest-vs-json-rpc)</li>
<li>[揭开 RPC 和 REST 的神秘面纱https://web.archive.org/web/20170608193645/http://etherealbits.com/2012/12/debunking-the-myths-of-rpc-rest/)</li>
<li>[使用 REST 的缺点是什么https://www.quora.com/What-are-the-drawbacks-of-using-RESTful-APIs)</li>
<li>[破解系统设计面试http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview)</li>
<li>[Thrifthttps://code.facebook.com/posts/1468950976659943/)</li>
<li>[为什么在内部使用 REST 而不是 RPChttp://arstechnica.com/civis/viewtopic.php?t=1190508)</li>
</ul>
<h2 id="_102">安全</h2>
<p>这一部分需要更多内容。[一起来吧#贡献)！</p>
<p>安全是一个宽泛的话题。除非你有相当的经验, 安全方面背景或者正在申请的职位要求安全知识，你不需要了解安全基础知识以外的内容：</p>
<ul>
<li>在运输和等待过程中加密</li>
<li>对所有的用户输入和从用户那里发来的参数进行处理以防止 [XSShttps://en.wikipedia.org/wiki/Cross-site_scripting) 和 [SQL 注入https://en.wikipedia.org/wiki/SQL_injection)。</li>
<li>使用参数化的查询来防止 SQL 注入。</li>
<li>使用[最小权限原则https://en.wikipedia.org/wiki/Principle_of_least_privilege)。</li>
</ul>
<h3 id="_103">来源及延伸阅读</h3>
<ul>
<li>[为开发者准备的安全引导https://github.com/FallibleInc/security-guide-for-developers)</li>
<li>[OWASP top tenhttps://www.owasp.org/index.php/OWASP_Top_Ten_Cheat_Sheet)</li>
</ul>
<h2 id="_104">附录</h2>
<p>一些时候你会被要求做出保守估计。比如，你可能需要估计从磁盘中生成 100 张图片的缩略图需要的时间或者一个数据结构需要多少的内存。<strong>2 的次方表</strong>和<strong>每个开发者都需要知道的一些时间数据</strong>（译注：OSChina 上有这篇文章的[译文https://www.oschina.net/news/30009/every-programmer-should-know)）都是一些很方便的参考资料。</p>
<h3 id="2">2 的次方表</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>Power           Exact Value         Approx Value        Bytes
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>---------------------------------------------------------------
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>7                             128
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>8                             256
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>10                           1024   1 thousand           1 KB
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>16                         65,536                       64 KB
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>20                      1,048,576   1 million            1 MB
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>30                  1,073,741,824   1 billion            1 GB
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>32                  4,294,967,296                        4 GB
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>40              1,099,511,627,776   1 trillion           1 TB
</code></pre></div>
<h4 id="_105">来源及延伸阅读</h4>
<ul>
<li>[2 的次方https://en.wikipedia.org/wiki/Power_of_two)</li>
</ul>
<h3 id="_106">每个程序员都应该知道的延迟数</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Latency Comparison Numbers
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>--------------------------
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>L1 cache reference                           0.5 ns
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>Branch mispredict                            5   ns
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>L2 cache reference                           7   ns                      14x L1 cache
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>Mutex lock/unlock                           25   ns
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>Main memory reference                      100   ns                      20x L2 cache, 200x L1 cache
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>Compress 1K bytes with Zippy            10,000   ns       10 us
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>Send 1 KB bytes over 1 Gbps network     10,000   ns       10 us
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>Read 4 KB randomly from SSD-           150,000   ns      150 us          ~1GB/sec SSD
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>Read 1 MB sequentially from memory     250,000   ns      250 us
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>Round trip within same datacenter      500,000   ns      500 us
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>Read 1 MB sequentially from SSD-     1,000,000   ns    1,000 us    1 ms  ~1GB/sec SSD, 4X memory
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>Disk seek                           10,000,000   ns   10,000 us   10 ms  20x datacenter roundtrip
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>Read 1 MB sequentially from 1 Gbps  10,000,000   ns   10,000 us   10 ms  40x memory, 10X SSD
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>Read 1 MB sequentially from disk    30,000,000   ns   30,000 us   30 ms 120x memory, 30X SSD
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>Send packet CA-&gt;Netherlands-&gt;CA    150,000,000   ns  150,000 us  150 ms
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>Notes
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>-----
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>1 ns = 10^-9 seconds
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>1 us = 10^-6 seconds = 1,000 ns
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>1 ms = 10^-3 seconds = 1,000 us = 1,000,000 ns
</code></pre></div>
<p>基于上述数字的指标：</p>
<ul>
<li>从磁盘以 30 MB/s 的速度顺序读取</li>
<li>以 100 MB/s 从 1 Gbps 的以太网顺序读取</li>
<li>从 SSD 以 1 GB/s 的速度读取</li>
<li>以 4 GB/s 的速度从主存读取</li>
<li>每秒能绕地球 6-7 圈</li>
<li>数据中心内每秒有 2,000 次往返</li>
</ul>
<h4 id="_107">延迟数可视化</h4>
<p>![https://camo.githubusercontent.com/77f72259e1eb58596b564d1ad823af1853bc60a3/687474703a2f2f692e696d6775722e636f6d2f6b307431652e706e67)</p>
<h4 id="_108">来源及延伸阅读</h4>
<ul>
<li>[每个程序员都应该知道的延迟数 — 1https://gist.github.com/jboner/2841832)</li>
<li>[每个程序员都应该知道的延迟数 — 2https://gist.github.com/hellerbarde/2843375)</li>
<li>[关于建设大型分布式系统的的设计方案, 课程和建议http://www.cs.cornell.edu/projects/ladis2009/talks/dean-keynote-ladis2009.pdf)</li>
<li>[关于建设大型可拓展分布式系统的软件工程咨询https://static.googleusercontent.com/media/research.google.com/en//people/jeff/stanford-295-talk.pdf)</li>
</ul>
<h3 id="_109">其它的系统设计面试题</h3>
<blockquote>
<p>常见的系统设计面试问题，给出了如何解决的方案链接</p>
</blockquote>
<table>
<thead>
<tr>
<th>问题</th>
<th>引用</th>
</tr>
</thead>
<tbody>
<tr>
<td>设计类似于 Dropbox 的文件同步服务</td>
<td>[youtube.comhttps://www.youtube.com/watch?v=PE4gwstWhmc)</td>
</tr>
<tr>
<td>设计类似于 Google 的搜索引擎</td>
<td>[queue.acm.orghttp://queue.acm.org/detail.cfm?id=988407)<br/>[stackexchange.comhttp://programmers.stackexchange.com/questions/38324/interview-question-how-would-you-implement-google-search)<br/>[ardendertat.comhttp://www.ardendertat.com/2012/01/11/implementing-search-engines/)<br/>[stanford.eduhttp://infolab.stanford.edu/~backrub/google.html)</td>
</tr>
<tr>
<td>设计类似于 Google 的可扩展网络爬虫</td>
<td>[quora.comhttps://www.quora.com/How-can-I-build-a-web-crawler-from-scratch)</td>
</tr>
<tr>
<td>设计 Google 文档</td>
<td>[code.google.comhttps://code.google.com/p/google-mobwrite/)<br/>[neil.fraser.namehttps://neil.fraser.name/writing/sync/)</td>
</tr>
<tr>
<td>设计类似 Redis 的键值存储</td>
<td>[slideshare.nethttp://www.slideshare.net/dvirsky/introduction-to-redis)</td>
</tr>
<tr>
<td>设计类似 Memcached 的缓存系统</td>
<td>[slideshare.nethttp://www.slideshare.net/oemebamo/introduction-to-memcached)</td>
</tr>
<tr>
<td>设计类似亚马逊的推荐系统</td>
<td>[hulu.comhttp://tech.hulu.com/blog/2011/09/19/recommendation-system.html)<br/>[ijcai13.orghttp://ijcai13.org/files/tutorial_slides/td3.pdf)</td>
</tr>
<tr>
<td>设计类似 Bitly 的短链接系统</td>
<td>[n00tc0d3r.blogspot.comhttp://n00tc0d3r.blogspot.com/)</td>
</tr>
<tr>
<td>设计类似 WhatsApp 的聊天应用</td>
<td>[highscalability.comhttp://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html)</td>
</tr>
<tr>
<td>设计类似 Instagram 的图片分享系统</td>
<td>[highscalability.comhttp://highscalability.com/flickr-architecture)<br/>[highscalability.comhttp://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html)</td>
</tr>
<tr>
<td>设计 Facebook 的新闻推荐方法</td>
<td>[quora.comhttp://www.quora.com/What-are-best-practices-for-building-something-like-a-News-Feed)<br/>[quora.comhttp://www.quora.com/Activity-Streams/What-are-the-scaling-issues-to-keep-in-mind-while-developing-a-social-network-feed)<br/>[slideshare.nethttp://www.slideshare.net/danmckinley/etsy-activity-feeds-architecture)</td>
</tr>
<tr>
<td>设计 Facebook 的时间线系统</td>
<td>[facebook.comhttps://www.facebook.com/note.php?note_id=10150468255628920)<br/>[highscalability.comhttp://highscalability.com/blog/2012/1/23/facebook-timeline-brought-to-you-by-the-power-of-denormaliza.html)</td>
</tr>
<tr>
<td>设计 Facebook 的聊天系统</td>
<td>[erlang-factory.comhttp://www.erlang-factory.com/upload/presentations/31/EugeneLetuchy-ErlangatFacebook.pdf)<br/>[facebook.comhttps://www.facebook.com/note.php?note_id=14218138919&amp;id=9445547199&amp;index=0)</td>
</tr>
<tr>
<td>设计类似 Facebook 的图表搜索系统</td>
<td>[facebook.comhttps://www.facebook.com/notes/facebook-engineering/under-the-hood-building-out-the-infrastructure-for-graph-search/10151347573598920)<br/>[facebook.comhttps://www.facebook.com/notes/facebook-engineering/under-the-hood-indexing-and-ranking-in-graph-search/10151361720763920)<br/>[facebook.comhttps://www.facebook.com/notes/facebook-engineering/under-the-hood-the-natural-language-interface-of-graph-search/10151432733048920)</td>
</tr>
<tr>
<td>设计类似 CloudFlare 的内容传递网络</td>
<td>[cmu.eduhttp://repository.cmu.edu/cgi/viewcontent.cgi?article=2112&amp;context=compsci)</td>
</tr>
<tr>
<td>设计类似 Twitter 的热门话题系统</td>
<td>[michael-noll.comhttp://www.michael-noll.com/blog/2013/01/18/implementing-real-time-trending-topics-in-storm/)<br/>[snikolov .wordpress.comhttp://snikolov.wordpress.com/2012/11/14/early-detection-of-twitter-trends/)</td>
</tr>
<tr>
<td>设计一个随机 ID 生成系统</td>
<td>[blog.twitter.comhttps://blog.twitter.com/2010/announcing-snowflake)<br/>[github.comhttps://github.com/twitter/snowflake/)</td>
</tr>
<tr>
<td>返回一定时间段内次数前 k 高的请求</td>
<td>[ucsb.eduhttps://icmi.cs.ucsb.edu/research/tech_reports/reports/2005-23.pdf)<br/>[wpi.eduhttp://davis.wpi.edu/xmdv/docs/EDBT11-diyang.pdf)</td>
</tr>
<tr>
<td>设计一个数据源于多个数据中心的服务系统</td>
<td>[highscalability.comhttp://highscalability.com/blog/2009/8/24/how-google-serves-data-from-multiple-datacenters.html)</td>
</tr>
<tr>
<td>设计一个多人网络卡牌游戏</td>
<td>[indieflashblog.comhttps://web.archive.org/web/20180929181117/http://www.indieflashblog.com/how-to-create-an-asynchronous-multiplayer-game.html)<br/>[buildnewgames.comhttp://buildnewgames.com/real-time-multiplayer/)</td>
</tr>
<tr>
<td>设计一个垃圾回收系统</td>
<td>[stuffwithstuff.comhttp://journal.stuffwithstuff.com/2013/12/08/babys-first-garbage-collector/)<br/>[washington.eduhttp://courses.cs.washington.edu/courses/csep521/07wi/prj/rick.pdf)</td>
</tr>
<tr>
<td>添加更多的系统设计问题</td>
<td>[贡献#贡献)</td>
</tr>
</tbody>
</table>
<h3 id="_110">真实架构</h3>
<blockquote>
<p>关于现实中真实的系统是怎么设计的文章。</p>
</blockquote>
<p align="center">
  <img src="images/TcUo2fw.png">
  <br/>
  <strong><a href="https://www.infoq.com/presentations/Twitter-Timeline-Scalability">Source: Twitter timelines at scale</a></strong>
</p>

<p><strong>不要专注于以下文章的细节，专注于以下方面：</strong></p>
<ul>
<li>发现这些文章中的共同的原则, 技术和模式。</li>
<li>学习每个组件解决哪些问题，什么情况下使用，什么情况下不适用</li>
<li>复习学过的文章</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>系统</th>
<th>引用</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data processing</td>
<td>*<em>MapReduce</em>- - Google的分布式数据处理</td>
<td>[research.google.comhttp://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/mapreduce-osdi04.pdf)</td>
</tr>
<tr>
<td>Data processing</td>
<td>*<em>Spark</em>- - Databricks 的分布式数据处理</td>
<td>[slideshare.nethttp://www.slideshare.net/AGrishchenko/apache-spark-architecture)</td>
</tr>
<tr>
<td>Data processing</td>
<td>*<em>Storm</em>- - Twitter 的分布式数据处理</td>
<td>[slideshare.nethttp://www.slideshare.net/previa/storm-16094009)</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>Bigtable</em>- - Google 的列式数据库</td>
<td>[harvard.eduhttp://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf)</td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>HBase</em>- - Bigtable 的开源实现</td>
<td>[slideshare.nethttp://www.slideshare.net/alexbaranau/intro-to-hbase)</td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>Cassandra</em>- - Facebook 的列式数据库</td>
<td>[slideshare.nethttp://www.slideshare.net/planetcassandra/cassandra-introduction-features-30103666)</td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>DynamoDB</em>- - Amazon 的文档数据库</td>
<td>[harvard.eduhttp://www.read.seas.harvard.edu/~kohler/class/cs239-w08/decandia07dynamo.pdf)</td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>MongoDB</em>- - 文档数据库</td>
<td>[slideshare.nethttp://www.slideshare.net/mdirolf/introduction-to-mongodb)</td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>Spanner</em>- - Google 的全球分布数据库</td>
<td>[research.google.comhttp://research.google.com/archive/spanner-osdi2012.pdf)</td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>Memcached</em>- - 分布式内存缓存系统</td>
<td>[slideshare.nethttp://www.slideshare.net/oemebamo/introduction-to-memcached)</td>
</tr>
<tr>
<td>Data store</td>
<td>*<em>Redis</em>- - 能够持久化及具有值类型的分布式内存缓存系统</td>
<td>[slideshare.nethttp://www.slideshare.net/dvirsky/introduction-to-redis)</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>File system</td>
<td>*<em>Google File System (GFS)</em>- - 分布式文件系统</td>
<td>[research.google.comhttp://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/gfs-sosp2003.pdf)</td>
</tr>
<tr>
<td>File system</td>
<td>*<em>Hadoop File System (HDFS)</em>- - GFS 的开源实现</td>
<td>[apache.orghttps://hadoop.apache.org/docs/r1.2.1/hdfs_design.html)</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Misc</td>
<td>*<em>Chubby</em>- - Google 的分布式系统的低耦合锁服务</td>
<td>[research.google.comhttp://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en/us/archive/chubby-osdi06.pdf)</td>
</tr>
<tr>
<td>Misc</td>
<td>*<em>Dapper</em>- - 分布式系统跟踪基础设施</td>
<td>[research.google.comhttp://static.googleusercontent.com/media/research.google.com/en//pubs/archive/36356.pdf)</td>
</tr>
<tr>
<td>Misc</td>
<td>*<em>Kafka</em>- - LinkedIn 的发布订阅消息系统</td>
<td>[slideshare.nethttp://www.slideshare.net/mumrah/kafka-talk-tri-hug)</td>
</tr>
<tr>
<td>Misc</td>
<td>*<em>Zookeeper</em>- - 集中的基础架构和协调服务</td>
<td>[slideshare.nethttp://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper)</td>
</tr>
<tr>
<td></td>
<td>添加更多</td>
<td>[贡献#贡献)</td>
</tr>
</tbody>
</table>
<h3 id="_111">公司的系统架构</h3>
<table>
<thead>
<tr>
<th>Company</th>
<th>Reference(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Amazon</td>
<td>[Amazon 的架构http://highscalability.com/amazon-architecture)</td>
</tr>
<tr>
<td>Cinchcast</td>
<td>[每天产生 1500 小时的音频http://highscalability.com/blog/2012/7/16/cinchcast-architecture-producing-1500-hours-of-audio-every-d.html)</td>
</tr>
<tr>
<td>DataSift</td>
<td>[每秒实时挖掘 120000 条 tweethttp://highscalability.com/blog/2011/11/29/datasift-architecture-realtime-datamining-at-120000-tweets-p.html)</td>
</tr>
<tr>
<td>DropBox</td>
<td>[我们如何缩放 Dropboxhttps://www.youtube.com/watch?v=PE4gwstWhmc)</td>
</tr>
<tr>
<td>ESPN</td>
<td>[每秒操作 100000 次http://highscalability.com/blog/2013/11/4/espns-architecture-at-scale-operating-at-100000-duh-nuh-nuhs.html)</td>
</tr>
<tr>
<td>Google</td>
<td>[Google 的架构http://highscalability.com/google-architecture)</td>
</tr>
<tr>
<td>Instagram</td>
<td>[1400 万用户，达到兆级别的照片存储http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html)<br/>[是什么在驱动 Instagramhttp://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances)</td>
</tr>
<tr>
<td>Justin.tv</td>
<td>[Justin.Tv 的直播广播架构http://highscalability.com/blog/2010/3/16/justintvs-live-video-broadcasting-architecture.html)</td>
</tr>
<tr>
<td>Facebook</td>
<td>[Facebook 的可扩展 memcachedhttps://cs.uwaterloo.ca/~brecht/courses/854-Emerging-2014/readings/key-value/fb-memcached-nsdi-2013.pdf)<br/>[TAO: Facebook 社交图的分布式数据存储https://cs.uwaterloo.ca/~brecht/courses/854-Emerging-2014/readings/data-store/tao-facebook-distributed-datastore-atc-2013.pdf)<br/>[Facebook 的图片存储https://www.usenix.org/legacy/event/osdi10/tech/full_papers/Beaver.pdf)</td>
</tr>
<tr>
<td>Flickr</td>
<td>[Flickr 的架构http://highscalability.com/flickr-architecture)</td>
</tr>
<tr>
<td>Mailbox</td>
<td>[在 6 周内从 0 到 100 万用户http://highscalability.com/blog/2013/6/18/scaling-mailbox-from-0-to-one-million-users-in-6-weeks-and-1.html)</td>
</tr>
<tr>
<td>Pinterest</td>
<td>[从零到每月数十亿的浏览量http://highscalability.com/blog/2013/4/15/scaling-pinterest-from-0-to-10s-of-billions-of-page-views-a.html)<br/>[1800 万访问用户，10 倍增长，12 名员工http://highscalability.com/blog/2012/5/21/pinterest-architecture-update-18-million-visitors-10x-growth.html)</td>
</tr>
<tr>
<td>Playfish</td>
<td>[月用户量 5000 万并在不断增长http://highscalability.com/blog/2010/9/21/playfishs-social-gaming-architecture-50-million-monthly-user.html)</td>
</tr>
<tr>
<td>PlentyOfFish</td>
<td>[PlentyOfFish 的架构http://highscalability.com/plentyoffish-architecture)</td>
</tr>
<tr>
<td>Salesforce</td>
<td>[他们每天如何处理 13 亿笔交易http://highscalability.com/blog/2013/9/23/salesforce-architecture-how-they-handle-13-billion-transacti.html)</td>
</tr>
<tr>
<td>Stack Overflow</td>
<td>[Stack Overflow 的架构http://highscalability.com/blog/2009/8/5/stack-overflow-architecture.html)</td>
</tr>
<tr>
<td>TripAdvisor</td>
<td>[40M 访问者，200M 页面浏览量，30TB 数据http://highscalability.com/blog/2011/6/27/tripadvisor-architecture-40m-visitors-200m-dynamic-page-view.html)</td>
</tr>
<tr>
<td>Tumblr</td>
<td>[每月 150 亿的浏览量http://highscalability.com/blog/2012/2/13/tumblr-architecture-15-billion-page-views-a-month-and-harder.html)</td>
</tr>
<tr>
<td>Twitter</td>
<td>[Making Twitter 10000 percent fasterhttp://highscalability.com/scaling-twitter-making-twitter-10000-percent-faster)<br/>[每天使用 MySQL 存储2.5亿条 tweethttp://highscalability.com/blog/2011/12/19/how-twitter-stores-250-million-tweets-a-day-using-mysql.html)<br/>[150M 活跃用户，300K QPS，22 MB/S 的防火墙http://highscalability.com/blog/2013/7/8/the-architecture-twitter-uses-to-deal-with-150m-active-users.html)<br/>[可扩展时间表https://www.infoq.com/presentations/Twitter-Timeline-Scalability)<br/>[Twitter 的大小数据https://www.youtube.com/watch?v=5cKTP36HVgI)<br/>[Twitter 的行为：规模超过 1 亿用户https://www.youtube.com/watch?v=z8LU0Cj6BOU)</td>
</tr>
<tr>
<td>Uber</td>
<td>[Uber 如何扩展自己的实时化市场http://highscalability.com/blog/2015/9/14/how-uber-scales-their-real-time-market-platform.html)</td>
</tr>
<tr>
<td>WhatsApp</td>
<td>[Facebook 用 190 亿美元购买 WhatsApp 的架构http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html)</td>
</tr>
<tr>
<td>YouTube</td>
<td>[YouTube 的可扩展性https://www.youtube.com/watch?v=w5WVu624fY8)<br/>[YouTube 的架构http://highscalability.com/youtube-architecture)</td>
</tr>
</tbody>
</table>
<h4 id="_112">来源及延伸阅读</h4>
<ul>
<li>[kilimchoi/engineering-blogshttps://github.com/kilimchoi/engineering-blogs)</li>
</ul>
<h2 id="_113">正在完善中</h2>
<p>有兴趣加入添加一些部分或者帮助完善某些部分吗？[加入进来吧#贡献)！</p>
<ul>
<li>使用 MapReduce 进行分布式计算</li>
<li>一致性哈希</li>
<li>直接存储器访问（DMA）控制器</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../%E6%95%B0%E6%8D%AE%E5%AF%86%E9%9B%86%E5%9E%8B%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 数据密集型应用系统设计">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                数据密集型应用系统设计
              </div>
            </div>
          </a>
        
        
          
          <a href="../../Rust/Rust/" class="md-footer__link md-footer__link--next" aria-label="下一页: Rust程序设计">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Rust程序设计
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/hxaxd/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs.sticky", "header.autohide", "navigation.footer", "navigation.instant", "navigation.tracking", "navigation.path", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>